import{A as C}from"./AdminLayout.359c072a.js";import{L,H as B,a as p,o as a,c as i,f as d,w as r,F as m,d as e,h as V,m as h,v as g,p as y,q as k,l as b,g as v,e as f,t as u,u as P}from"./app.62f83056.js";import{P as T}from"./Pagination.6faaf1b3.js";import{_ as A}from"./_plugin-vue_export-helper.cdc0426e.js";const D={components:{AdminLayout:C,Link:L,Pagination:T,Head:B},props:["users","roles","filials"],data(){return{filter:{fio:route().params.fio?route().params.fio:null,tel_num:route().params.tel_num?route().params.tel_num:null,role_id:route().params.role_id?route().params.role_id:null,filial_id:route().params.filial_id?route().params.filial_id:null},loading:0}},methods:{deleteData(l){Swal.fire({title:"\u0416\u043E\u044E\u0493\u0430 \u0441\u0435\u043D\u0456\u043C\u0434\u0456\u0441\u0456\u0437 \u0431\u0435?",text:"\u049A\u0430\u0439\u0442\u044B\u043F \u049B\u0430\u043B\u043F\u044B\u043D\u0430 \u043A\u0435\u043B\u043C\u0435\u0443\u0456 \u043C\u04AF\u043C\u043A\u0456\u043D!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"\u0418\u04D9, \u0436\u043E\u044F\u043C\u044B\u043D!",cancelButtonText:"\u0416\u043E\u049B"}).then(s=>{s.isConfirmed&&this.$inertia.delete(route("admin.users.destroy",l))})},search(){this.loading=1;const l=this.clearParams(this.filter);this.$inertia.get(route("admin.users.index"),l)}}},N=e("head",null,[e("title",null,"\u0410\u0434\u043C\u0438\u043D \u043F\u0430\u043D\u0435\u043B\u044C | \u049A\u043E\u043B\u0434\u0430\u043D\u0443\u0448\u044B\u043B\u0430\u0440")],-1),S={class:"row mb-2"},U=e("div",{class:"col-sm-6"},[e("h1",{class:"m-0"},"\u049A\u043E\u043B\u0434\u0430\u043D\u0443\u0448\u044B\u043B\u0430\u0440 \u0442\u0456\u0437\u0456\u043C\u0456")],-1),I={class:"col-sm-6"},K={class:"breadcrumb float-sm-right"},M={class:"breadcrumb-item"},F=["href"],H=e("i",{class:"fas fa-dashboard"},null,-1),q=f(" \u0411\u0430\u0441\u0442\u044B \u0431\u0435\u0442 "),z=[H,q],E=e("li",{class:"breadcrumb-item active"}," \u049A\u043E\u043B\u0434\u0430\u043D\u0443\u0448\u044B\u043B\u0430\u0440 \u0442\u0456\u0437\u0456\u043C\u0456 ",-1),j={class:"buttons d-flex align-items-center"},G=e("i",{class:"fa fa-plus"},null,-1),J=f(" \u049A\u043E\u0441\u0443 "),O=e("i",{class:"fa fa-trash"},null,-1),Q=f(" \u0424\u0438\u043B\u044C\u0442\u0440\u0434\u0456 \u0442\u0430\u0437\u0430\u043B\u0430\u0443 "),R=e("i",{class:"fa fa-plus"},null,-1),W=f(" \u0423\u0434\u0430\u043B\u0435\u043D\u043D\u044B\u0451 \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u0438 "),X={key:0,class:"spinner-border text-primary mx-3",role:"status"},Y=e("span",{class:"sr-only"},"Loading...",-1),Z=[Y],$={class:"container-fluid"},ee={class:"card"},te={class:"card-body"},se={class:"row"},le={class:"col-sm-12"},ne={class:"table table-hover table-bordered table-striped dataTable dtr-inline"},oe=e("tr",{role:"row"},[e("th"),e("th",null,"\u0422\u043E\u043B\u044B\u049B \u0430\u0442\u044B-\u0436\u04E9\u043D\u0456"),e("th",null,"\u0422\u0435\u043B\u0435\u0444\u043E\u043D \u043D\u04E9\u043C\u0456\u0440\u0456"),e("th",null,"\u0424\u0438\u043B\u0438\u0430\u043B"),e("th",null,"\u0420\u043E\u043B\u044C"),e("th",null,"\u04D8\u0440\u0435\u043A\u0435\u0442")],-1),ae={class:"filters"},ie=e("td",null,null,-1),re=e("option",{value:null}," \u0411\u0430\u0440\u043B\u044B\u0493\u044B ",-1),de=["value"],ue=e("option",{value:null}," \u0411\u0430\u0440\u043B\u044B\u0493\u044B ",-1),ce=["value"],_e={class:"btn-group btn-group-sm"},me=e("i",{class:"fas fa-edit"},null,-1),he=["onClick"],fe=e("i",{class:"fas fa-times"},null,-1),pe=[fe];function be(l,s,c,ve,n,o){const _=p("Link"),x=p("Pagination"),w=p("AdminLayout");return a(),i(m,null,[N,d(w,null,{breadcrumbs:r(()=>[e("div",S,[U,e("div",I,[e("ol",K,[e("li",M,[e("a",{href:l.route("admin.index")},z,8,F)]),E])])])]),header:r(()=>[e("div",j,[d(_,{class:"btn btn-primary",href:l.route("admin.users.create")},{default:r(()=>[G,J]),_:1},8,["href"]),d(_,{class:"btn btn-danger mx-2",href:l.route("admin.users.index")},{default:r(()=>[O,Q]),_:1},8,["href"]),d(_,{class:"btn btn-primary",href:l.route("admin.users.deleted")},{default:r(()=>[R,W]),_:1},8,["href"]),n.loading?(a(),i("div",X,Z)):V("",!0)])]),default:r(()=>[e("div",$,[e("div",ee,[e("div",te,[e("div",se,[e("div",le,[e("table",ne,[e("thead",null,[oe,e("tr",ae,[ie,e("td",null,[h(e("input",{"onUpdate:modelValue":s[0]||(s[0]=t=>n.filter.fio=t),class:"form-control",placeholder:"\u0422\u043E\u043B\u044B\u049B \u0430\u0442\u044B-\u0436\u04E9\u043D\u0456",onKeyup:s[1]||(s[1]=y((...t)=>o.search&&o.search(...t),["enter"]))},null,544),[[g,n.filter.fio]])]),e("td",null,[h(e("input",{"onUpdate:modelValue":s[2]||(s[2]=t=>n.filter.tel_num=t),class:"form-control",placeholder:"\u0422\u0435\u043B\u0435\u0444\u043E\u043D \u043D\u04E9\u043C\u0456\u0440\u0456",onKeyup:s[3]||(s[3]=y((...t)=>o.search&&o.search(...t),["enter"]))},null,544),[[g,n.filter.tel_num]])]),e("td",null,[h(e("select",{class:"form-control",onChange:s[4]||(s[4]=b((...t)=>o.search&&o.search(...t),["prevent"])),"onUpdate:modelValue":s[5]||(s[5]=t=>n.filter.filial_id=t),placeholder:"\u0424\u0438\u043B\u0438\u0430\u043B"},[re,(a(!0),i(m,null,v(c.filials,t=>(a(),i("option",{key:"filial"+t.id,value:t.id},u(t.name),9,de))),128))],544),[[k,n.filter.filial_id]])]),e("td",null,[h(e("select",{class:"form-control",onChange:s[6]||(s[6]=b((...t)=>o.search&&o.search(...t),["prevent"])),"onUpdate:modelValue":s[7]||(s[7]=t=>n.filter.role_id=t),placeholder:"\u0424\u0438\u043B\u0438\u0430\u043B"},[ue,(a(!0),i(m,null,v(c.roles,t=>(a(),i("option",{key:"role"+t.id,value:t.id},u(t.name),9,ce))),128))],544),[[k,n.filter.role_id]])])])]),e("tbody",null,[(a(!0),i(m,null,v(c.users.data,(t,ge)=>(a(),i("tr",{class:"odd",key:"user"+t.id},[e("td",null,[e("div",{class:"avatar",style:P({backgroundImage:`url(/storage/files/${t.avatar})`})},null,4)]),e("td",null,u(t.fio),1),e("td",null,u(t.tel_num),1),e("td",null,u(t.filial.name),1),e("td",null,u(t.role.name),1),e("td",null,[e("div",_e,[d(_,{href:l.route("admin.users.edit",t),class:"btn btn-primary",title:"\u0418\u0437\u043C\u0435\u043D\u0438\u0442\u044C"},{default:r(()=>[me]),_:2},1032,["href"]),e("button",{onClick:b(ye=>o.deleteData(t.id),["prevent"]),class:"btn btn-danger",title:"\u0416\u043E\u044E"},pe,8,he)])])]))),128))])])])]),d(x,{links:c.users.links},null,8,["links"])])])])]),_:1})],64)}const Le=A(D,[["render",be]]);export{Le as default};
