import{_ as g,A as y}from"./AdminLayout.ecc42e71.js";import{L as C,H as w,r as V,o as n,a as d,e as k,w as f,F as i,b as e,t as r,m as a,f as _,q as m,v as B,s as p,g as b,d as c}from"./app.54586061.js";import{P as L}from"./Pagination.335942dc.js";import{V as T}from"./ValidationError.2539be6a.js";const x={components:{AdminLayout:y,Link:C,Pagination:L,ValidationError:T,Head:w},props:["schedules","date","day","teachers"],data(){return{schedule:{start_time:null,end_time:null,duration:60,teacher_id:null,group_id:null,date:this.date,day:route().params.day},groups:[],days:["\u041F\u043E\u043D\u0435\u0434\u0435\u043B\u044C\u043D\u0438\u043A","\u0412\u0442\u043E\u0440\u043D\u0438\u043A","\u0421\u0440\u0435\u0434\u0430","\u0427\u0435\u0442\u0432\u0435\u0440\u0433","\u041F\u044F\u0442\u043D\u0438\u0446\u0430","\u0421\u0443\u0431\u0431\u043E\u0442\u0430","\u0412\u043E\u0441\u043A\u0440\u0435\u0441\u0435\u043D\u0438\u0435"]}},methods:{getGroups(l){axios.get(route("admin.schedule.getGroups",l)).then(s=>{this.groups=s.data})},submit(){this.$inertia.post(route("admin.schedule.store"),this.schedule,{onError:()=>console.log("An error has occurred"),onSuccess:()=>console.log("The new contact has been saved")})},deleteData(l){Swal.fire({title:"\u0416\u043E\u044E\u0493\u0430 \u0441\u0435\u043D\u0456\u043C\u0434\u0456\u0441\u0456\u0437 \u0431\u0435",text:"\u049A\u0430\u0439\u0442\u044B\u043F \u049B\u0430\u043B\u043F\u044B\u043D\u0430 \u043A\u0435\u043B\u043C\u0435\u0443\u0456 \u043C\u04AF\u043C\u043A\u0456\u043D!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"\u0418\u04D9, \u0436\u043E\u044F\u043C\u044B\u043D!",cancelButtonText:"\u0411\u043E\u043B\u0434\u044B\u0440\u043C\u0430\u0443"}).then(s=>{s.isConfirmed&&!length&&this.$inertia.delete(route("admin.schedule.destroy",l))})}}},A=e("head",null,[e("title",null,"\u0410\u0434\u043C\u0438\u043D \u043F\u0430\u043D\u0435\u043B\u044C | \u0420\u0430\u0441\u043F\u0438\u0441\u0430\u043D\u0438\u044F \u049B\u043E\u0441\u0443")],-1),S={class:"row mb-2"},D={class:"col-sm-6"},N={class:"m-0"},U={class:"col-sm-6"},E={class:"breadcrumb float-sm-right"},G={class:"breadcrumb-item"},M=["href"],q=e("i",{class:"fas fa-dashboard"},null,-1),F=c(" \u0411\u0430\u0441\u0442\u044B \u0431\u0435\u0442 "),H=[q,F],P={class:"breadcrumb-item"},j=["href"],z=e("i",{class:"fas fa-dashboard"},null,-1),I=c(" \u0420\u0430\u0441\u043F\u0438\u0441\u0430\u043D\u0438\u044F \u0442\u0456\u0437\u0456\u043C\u0456 "),J=[z,I],K=e("li",{class:"breadcrumb-item active"}," \u0420\u0430\u0441\u043F\u0438\u0441\u0430\u043D\u0438\u044F \u049B\u043E\u0441\u0443 ",-1),O={class:"container-fluid"},Q={class:"card card-primary"},R={class:"card-body"},W={class:"table table-hover table-bordered table-striped dataTable dtr-inline"},X=e("thead",null,[e("tr",null,[e("th",null,"\u0412\u0440\u0435\u043C\u044F"),e("th",null,"\u0423\u0447\u0438\u0442\u0435\u043B\u044C"),e("th",null,"\u0413\u0440\u0443\u043F\u043F\u0430"),e("th",null,"\u04D8\u0440\u0435\u043A\u0435\u0442")])],-1),Y=["onClick"],Z=e("i",{class:"fas fa-trash"},null,-1),$=[Z],ee={class:"row mt-5"},te={class:"col-md-3"},se={class:"form-group"},oe=e("label",{for:""},[c("\u041D\u0430\u0447\u0430\u043B\u043E "),e("span",{class:"red"},"*")],-1),le={class:"col-md-3"},ne={class:"form-group"},de=e("label",{for:""},[c("\u0414\u043B\u0438\u0442\u0435\u043B\u044C\u043D\u043E\u0441\u0442\u044C "),e("span",{class:"red"},"*")],-1),re=["value"],ie={class:"row"},ae={class:"col-md-4"},ce={class:"form-group"},ue=e("label",{for:""},[c("\u0423\u0447\u0438\u0442\u0435\u043B\u044C "),e("span",{class:"red"},"*")],-1),he=e("option",{value:null,hidden:""}," \u0412\u044B\u0431\u0440\u0430\u0442\u044C ",-1),_e=["value"],me={key:0,class:"col-md-4"},pe={class:"form-group"},fe=e("label",{for:""},"\u0413\u0440\u0443\u043F\u043F\u0430",-1),be=e("option",{value:null,hidden:""}," \u0412\u044B\u0431\u0440\u0430\u0442\u044C ",-1),ve=["value"],ge={class:"card-footer"},ye=e("button",{type:"submit",class:"btn btn-primary mr-1"}," \u0421\u0430\u049B\u0442\u0430\u0443 ",-1);function Ce(l,s,u,we,o,h){const v=V("AdminLayout");return n(),d(i,null,[A,k(v,null,{breadcrumbs:f(()=>[e("div",S,[e("div",D,[e("h1",N,"\u0420\u0430\u0441\u043F\u0438\u0441\u0430\u043D\u0438\u044F "+r(o.days[u.day-1])+" "+r(u.date),1)]),e("div",U,[e("ol",E,[e("li",G,[e("a",{href:l.route("admin.index")},H,8,M)]),e("li",P,[e("a",{href:l.route("admin.schedule.index")},J,8,j)]),K])])])]),default:f(()=>[e("div",O,[e("div",Q,[e("form",{method:"post",onSubmit:s[8]||(s[8]=a((...t)=>h.submit&&h.submit(...t),["prevent"]))},[e("div",R,[e("table",W,[X,e("tbody",null,[(n(!0),d(i,null,_(u.schedules,t=>(n(),d("tr",null,[e("td",null,r(t.start_time)+" - "+r(t.end_time),1),e("td",null,r(t.teacher.fio),1),e("td",null,r(t.group?t.group.name:"\u0415\u043D\u0433\u0456\u0437\u0456\u043B\u043C\u0435\u0433\u0435\u043D"),1),e("td",null,[e("button",{onClick:a(Ve=>h.deleteData(t.id),["prevent"]),class:"btn btn-danger",title:"\u0416\u043E\u044E"},$,8,Y)])]))),256))])]),e("div",ee,[e("div",te,[e("div",se,[oe,m(e("input",{type:"time",class:"form-control","onUpdate:modelValue":s[0]||(s[0]=t=>o.schedule.start_time=t),required:""},null,512),[[B,o.schedule.start_time]])])]),e("div",le,[e("div",ne,[de,m(e("select",{class:"form-control",onChange:s[1]||(s[1]=a((...t)=>l.search&&l.search(...t),["prevent"])),"onUpdate:modelValue":s[2]||(s[2]=t=>o.schedule.duration=t),placeholder:"\u0411\u0435\u043B\u0441\u0435\u043D\u0434\u0456"},[(n(),d(i,null,_(180,t=>(n(),d(i,null,[t%30?b("",!0):(n(),d("option",{key:0,value:t},r(t)+" \u043C\u0438\u043D\u0443\u0442 ",9,re))],64))),64))],544),[[p,o.schedule.duration]])])])]),e("div",ie,[e("div",ae,[e("div",ce,[ue,m(e("select",{class:"form-control",onChange:s[3]||(s[3]=a(t=>h.getGroups(o.schedule.teacher_id),["prevent"])),"onUpdate:modelValue":s[4]||(s[4]=t=>o.schedule.teacher_id=t),placeholder:"\u0411\u0435\u043B\u0441\u0435\u043D\u0434\u0456"},[he,(n(!0),d(i,null,_(u.teachers,t=>(n(),d("option",{value:t.id},r(t.fio),9,_e))),256))],544),[[p,o.schedule.teacher_id]])])]),o.groups.length?(n(),d("div",me,[e("div",pe,[fe,m(e("select",{class:"form-control",onChange:s[5]||(s[5]=a((...t)=>l.search&&l.search(...t),["prevent"])),"onUpdate:modelValue":s[6]||(s[6]=t=>o.schedule.group_id=t),placeholder:"\u0411\u0435\u043B\u0441\u0435\u043D\u0434\u0456"},[be,(n(!0),d(i,null,_(o.groups,t=>(n(),d("option",{value:t.id},r(t.name),9,ve))),256))],544),[[p,o.schedule.group_id]])])])):b("",!0)])]),e("div",ge,[ye,e("button",{type:"button",class:"btn btn-danger",onClick:s[7]||(s[7]=a(t=>l.back(),["prevent"]))}," \u0410\u0440\u0442\u049B\u0430 ")])],32)])])]),_:1})],64)}const xe=g(x,[["render",Ce]]);export{xe as default};
