import{_ as k,A as w}from"./AdminLayout.6d433b19.js";import{L as B,H as L,r as h,o as i,a as _,e as m,w as p,F as v,b as t,t as l,f as S,q as f,v as b,m as x,g as A,h as C,d as j}from"./app.a694719e.js";import{P as V}from"./Pagination.2e748b97.js";const T={components:{AdminLayout:w,Link:B,Pagination:V,Head:L},props:["eduPaidOrders","teacher"],data(){return{filter:{fio:route().params.fio?route().params.fio:null},loading:0,penalty:0,bonus:0}},methods:{getSalary(e){Swal.fire({title:"\u0412\u044B\u0434\u0430\u0442\u044C \u0437\u0430\u0440\u043F\u043B\u0430\u0442\u0443?",text:"\u041E\u0442\u0447\u0451\u0442 \u043E \u043F\u0440\u0435\u0434\u044B\u0434\u0443\u0449\u0438\u0445 \u0437\u0430\u0440\u043F\u043B\u0430\u0442\u0430\u0445 \u043C\u043E\u0436\u043D\u043E \u0443\u0432\u0438\u0434\u0435\u0442\u044C \u043D\u0430 \u043F\u0430\u043D\u0435\u043B\u0435 \u043E\u0442\u0447\u0451\u0442\u0430!",icon:"success",showCancelButton:!0,confirmButtonColor:"#71DD37",cancelButtonColor:"#d33",confirmButtonText:"\u0412\u044B\u0434\u0430\u0442\u044C!",cancelButtonText:"\u041E\u0442\u043C\u0435\u043D\u0430"}).then(o=>{o.isConfirmed&&this.$inertia.post(route("admin.teachers.reportStore",e),{penalty:this.penalty,bonus:this.bonus,price:this.calculateAllPrice(1)+(this.bonus-this.penalty)})})},calculateAllPrice(e){return this.eduPaidOrders.reduce((n,a)=>n+(e?a.newPrice:a.price),0)}}},D=t("head",null,[t("title",null,"\u0410\u0434\u043C\u0438\u043D \u043F\u0430\u043D\u0435\u043B\u044C | \u041E\u0442\u0447\u0435\u0442")],-1),N={class:"row mb-2"},P={class:"col-sm-6"},I={class:"m-0"},F=t("h5",{class:"m-0"},"\u041E\u0442\u0447\u0435\u0442 \u0434\u043B\u044F \u0432\u044B\u0434\u0430\u0447\u0438 \u0437\u0430\u0440\u043F\u043B\u0430\u0442\u044B \u0437\u0430 \u044D\u0442\u043E\u0442 \u043F\u0435\u0440\u0438\u043E\u0434",-1),H={class:"col-sm-6"},M={class:"breadcrumb float-sm-right"},U={class:"breadcrumb-item"},q=["href"],z=t("i",{class:"fas fa-dashboard"},null,-1),E=j(" \u0411\u0430\u0441\u0442\u044B \u0431\u0435\u0442 "),G=[z,E],J=t("li",{class:"breadcrumb-item active"}," \u041E\u0442\u0447\u0435\u0442 \u0442\u0456\u0437\u0456\u043C\u0456 ",-1),K={key:0,class:"container-fluid"},Q={class:"card"},R={class:"card-body"},W={class:"row"},X={class:"col-sm-12"},Y={class:"table table-hover table-bordered table-striped dataTable dtr-inline"},Z=t("thead",null,[t("tr",{role:"row"},[t("th",null,"\u2116"),t("th"),t("th",null,"\u0424\u0418\u041E"),t("th",null,"\u041F\u0440\u0435\u0434\u043C\u0435\u0442"),t("th",{class:"t-c"},"\u0421\u0442\u0430\u0442\u0443\u0441"),t("th",{class:"t-c"},"\u041E\u0431\u0449. \u043A\u043E\u043B-\u0432\u043E \u0437\u0430\u043D\u044F\u0442\u0438\u0439 (\u0447\u0430\u0441\u043E\u0432)"),t("th",{class:"t-c"},"\u041A\u043E\u043B-\u0432\u043E \u043E\u0441\u0442\u0432. \u0437\u0430\u043D\u044F\u0442\u0438\u0439 (\u0447\u0430\u0441\u043E\u0432)"),t("th",{class:"t-c"},"\u041A\u043E\u043B-\u0432\u043E \u043F\u0440\u043E\u0439\u0434\u0435\u043D\u043D\u044B\u0445 \u0437\u0430\u043D\u044F\u0442\u0438\u0439 (\u0447\u0430\u0441\u043E\u0432)"),t("th",{class:"t-c"},"\u041E\u043F\u043B\u0430\u0442\u0430"),t("th",{class:"t-c"},"\u0417\u0430\u0440\u043F\u043B\u0430\u0442\u0430")])],-1),$={class:"d-f aj-c"},O=["onClick"],tt={class:"d-f j-c"},st={class:"paidBlock"},lt=t("div",{class:"paid success"},"\u041E\u043F\u043B\u0430\u0447\u0435\u043D\u043E",-1),ot={class:"paid date"},nt={class:"t-c"},et={class:"t-c"},dt={class:"t-c"},ct={class:"d-f j-c"},it={class:"paidBlock"},_t={class:"paid success"},at={class:"paid date"},ut=t("td",null,[t("div",{class:"d-f j-c"},[t("span",{class:"badge badge-warning"}," \u041D\u0435 \u0432\u044B\u0434\u0430\u043D\u043E ")])],-1),rt=t("tr",null,[t("td"),t("td"),t("td"),t("td"),t("td"),t("td"),t("td"),t("td"),t("td"),t("td")],-1),ht={class:"odd"},mt=t("td",null,null,-1),pt=t("td",null,null,-1),vt=t("td",null,null,-1),ft=t("td",null,null,-1),bt=t("td",null,null,-1),gt=t("td",null,null,-1),yt=t("td",null,null,-1),kt=t("td",{class:"t-r"},"\u041E\u0431\u0449\u0435\u0435",-1),wt={class:"d-f j-c"},Bt={class:"paidBlock"},Lt={class:"paid pd success no-hover"},St={class:"paid date no-hover"},xt=t("td",null,null,-1),At={class:"odd"},Ct=t("td",null,null,-1),jt=t("td",null,null,-1),Vt=t("td",null,null,-1),Tt=t("td",null,null,-1),Dt=t("td",null,null,-1),Nt=t("td",null,null,-1),Pt=t("td",null,null,-1),It=t("td",{class:"t-r"},"\u0428\u0442\u0440\u0430\u0444",-1),Ft=t("td",null,null,-1),Ht={class:"odd"},Mt=t("td",null,null,-1),Ut=t("td",null,null,-1),qt=t("td",null,null,-1),zt=t("td",null,null,-1),Et=t("td",null,null,-1),Gt=t("td",null,null,-1),Jt=t("td",null,null,-1),Kt=t("td",{class:"t-r"},"\u041F\u0440\u0435\u043C\u0438\u044F",-1),Qt=t("td",null,null,-1),Rt={class:"odd"},Wt=t("td",null,null,-1),Xt=t("td",null,null,-1),Yt=t("td",null,null,-1),Zt=t("td",null,null,-1),$t=t("td",null,null,-1),Ot=t("td",null,null,-1),ts=t("td",null,null,-1),ss=t("td",{class:"t-r"},"\u0418\u0442\u043E\u0433",-1),ls={class:"d-f j-c"},os={class:"paidBlock"},ns={class:"paid pd success no-hover"},es={class:"paid date no-hover"},ds=t("td",null,null,-1),cs={class:"odd"},is=t("td",null,null,-1),_s=t("td",null,null,-1),as=t("td",null,null,-1),us=t("td",null,null,-1),rs=t("td",null,null,-1),hs=t("td",null,null,-1),ms=t("td",null,null,-1),ps=t("td",null,null,-1),vs=t("td",null,null,-1);function fs(e,o,n,a,d,c){const g=h("Pagination"),y=h("AdminLayout");return i(),_(v,null,[D,m(y,null,{breadcrumbs:p(()=>[t("div",N,[t("div",P,[t("h1",I,[t("b",null,l(n.teacher.fio),1)]),F]),t("div",H,[t("ol",M,[t("li",U,[t("a",{href:e.route("admin.index")},G,8,q)]),J])])])]),default:p(()=>[n.eduPaidOrders.length?(i(),_("div",K,[t("div",Q,[t("div",R,[t("div",W,[t("div",X,[t("table",Y,[Z,t("tbody",null,[(i(!0),_(v,null,S(n.eduPaidOrders,(s,u)=>(i(),_("tr",{class:"odd",key:"eduPaidOrder"+s.id},[t("td",null,l(s.from?s.from+u:u+1),1),t("td",$,[t("div",{class:"avatar",style:C({backgroundImage:`url(/storage/files/${s.edu_order.user.avatar})`}),onClick:bs=>{var r;return e.$page.props.flash.image=(r=s.edu_order.user)==null?void 0:r.avatar}},null,12,O)]),t("td",null,l(s.edu_order.user.fio),1),t("td",null,l(s.edu_order.subject?s.edu_order.subject.name:"\u041D\u0435\u0442 \u0434\u0430\u043D\u043D\u044B\u0445"),1),t("td",null,[t("div",tt,[t("div",st,[lt,t("div",ot,"\u0434\u043E "+l(s.date),1)])])]),t("td",nt,l(s.edu_order.hours),1),t("td",et,l(s.remain_hours-s.completed_hours),1),t("td",dt,l(s.completed_hours),1),t("td",null,[t("div",ct,[t("div",it,[t("div",_t,l(s.price.toLocaleString()),1),t("div",at,l(s.newPrice.toLocaleString()),1)])])]),ut]))),128)),rt,t("tr",ht,[mt,pt,vt,ft,bt,gt,yt,kt,t("td",null,[t("div",wt,[t("div",Bt,[t("div",Lt,l(c.calculateAllPrice(0).toLocaleString()),1),t("div",St,l(c.calculateAllPrice(1).toLocaleString()),1)])])]),xt]),t("tr",At,[Ct,jt,Vt,Tt,Dt,Nt,Pt,It,t("td",null,[f(t("input",{type:"integer",class:"form-control","onUpdate:modelValue":o[0]||(o[0]=s=>d.penalty=s)},null,512),[[b,d.penalty]])]),Ft]),t("tr",Ht,[Mt,Ut,qt,zt,Et,Gt,Jt,Kt,t("td",null,[f(t("input",{type:"integer",class:"form-control","onUpdate:modelValue":o[1]||(o[1]=s=>d.bonus=s)},null,512),[[b,d.bonus]])]),Qt]),t("tr",Rt,[Wt,Xt,Yt,Zt,$t,Ot,ts,ss,t("td",null,[t("div",ls,[t("div",os,[t("div",ns,l(c.calculateAllPrice(0).toLocaleString()),1),t("div",es,l((c.calculateAllPrice(1)+(d.bonus-d.penalty)).toLocaleString()),1)])])]),ds]),t("tr",cs,[is,_s,as,us,rs,hs,ms,ps,t("td",null,[t("button",{onClick:o[2]||(o[2]=x(s=>c.getSalary(n.teacher.id),["prevent"])),class:"btn btn-success w-100"},"\u0412\u044B\u0434\u0430\u0442\u044C \u0437\u0430\u0440\u043F\u043B\u0430\u0442\u0443")]),vs])])])])]),m(g,{links:n.eduPaidOrders.links},null,8,["links"])])])])):A("",!0)]),_:1})],64)}const ws=k(T,[["render",fs]]);export{ws as default};
