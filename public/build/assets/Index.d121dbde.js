import{A as g}from"./AdminLayout.6a6b1706.js";import{L as y,H as C,a as _,o as n,c as o,f as u,w as d,F as f,d as t,h as x,m as B,v as w,p as P,g as L,e as p,t as c,q as T}from"./app.70dc3908.js";import{P as D}from"./Pagination.9293b879.js";import{_ as V}from"./_plugin-vue_export-helper.cdc0426e.js";const A={components:{AdminLayout:g,Link:y,Pagination:D,Head:C},props:["orders"],data(){return{filter:{name:route().params.name?route().params.name:null},loading:0,newGroup:""}},methods:{setPaid(e,a){a?Swal.fire({title:"\u041F\u043E\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u0435 \u043E\u043F\u043B\u0430\u0442\u0443",icon:"success",showCancelButton:!0,confirmButtonColor:"#71DD37",cancelButtonColor:"#adb5bd",confirmButtonText:"\u041F\u043E\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044C",cancelButtonText:"\u041E\u0442\u043A\u043B\u043E\u043D\u0438\u0442\u044C"}).then(i=>{i.isConfirmed&&this.$inertia.post(route("admin.students.paid",e))}):Swal.fire({title:"\u041E\u0442\u043C\u0435\u043D\u0438\u0442\u044C \u043E\u043F\u043B\u0430\u0442\u0443?",icon:"error",showCancelButton:!0,confirmButtonColor:"#71DD37",cancelButtonColor:"#adb5bd",confirmButtonText:"\u041F\u043E\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044C",cancelButtonText:"\u041E\u0442\u043A\u043B\u043E\u043D\u0438\u0442\u044C"}).then(i=>{i.isConfirmed&&this.$inertia.post(route("admin.students.deletePaid",e))})},search(){this.loading=1;const e=this.clearParams(this.filter);this.$inertia.get(route("admin.students.index"),e)}}},N=t("head",null,[t("title",null,"\u0410\u0434\u043C\u0438\u043D \u043F\u0430\u043D\u0435\u043B\u044C | \u0421\u0442\u0443\u0434\u0435\u043D\u0442\u044B")],-1),S={class:"row mb-2"},j=t("div",{class:"col-sm-6"},[t("h1",{class:"m-0"},"\u0421\u0442\u0443\u0434\u0435\u043D\u0442\u044B")],-1),I={class:"col-sm-6"},F={class:"breadcrumb float-sm-right"},H={class:"breadcrumb-item"},K=["href"],q=t("i",{class:"fas fa-dashboard"},null,-1),z=p(" \u0411\u0430\u0441\u0442\u044B \u0431\u0435\u0442 "),E=[q,z],G=t("li",{class:"breadcrumb-item active"}," \u0421\u0442\u0443\u0434\u0435\u043D\u0442\u044B ",-1),M={class:"buttons d-flex align-items-center"},U=t("i",{class:"fa fa-trash"},null,-1),W=p(" \u0424\u0438\u043B\u044C\u0442\u0440\u0434\u0456 \u0442\u0430\u0437\u0430\u043B\u0430\u0443 "),$={key:0,class:"spinner-border text-primary mx-3",role:"status"},J=t("span",{class:"sr-only"},"Loading...",-1),O=[J],Q={class:"container-fluid"},R={class:"card"},X={class:"card-body"},Y={class:"row"},Z={class:"col-sm-12"},tt={class:"table table-hover table-bordered table-striped dataTable dtr-inline"},st=t("tr",{role:"row"},[t("th",null,"\u2116"),t("th"),t("th",null,"\u0424\u0418\u041E"),t("th",null,"\u0421\u0442\u0430\u0442\u0443\u0441"),t("th",null,"\u041D\u043E\u043C\u0435\u0440 \u0442\u0435\u043B\u0435\u0444\u043E\u043D\u0430")],-1),et={class:"filters"},nt=t("td",null,null,-1),ot=t("td",null,null,-1),at=t("td",null,null,-1),it={class:"d-f aj-c"},lt={class:"d-f j-c"},dt={class:"paidBlock"},ct=["onClick"],rt=["onClick"],_t=["onClick"],ut={class:"paid date"},ht={class:"d-f j-c"},mt={class:"tablemask",title:"\u041D\u0430\u043F\u0438\u0441\u0430\u0442\u044C \u043F\u043E Whatsapp"};function ft(e,a,i,pt,r,l){const v=_("Link"),b=_("Pagination"),k=_("AdminLayout");return n(),o(f,null,[N,u(k,null,{breadcrumbs:d(()=>[t("div",S,[j,t("div",I,[t("ol",F,[t("li",H,[t("a",{href:e.route("admin.index")},E,8,K)]),G])])])]),header:d(()=>[t("div",M,[u(v,{class:"btn btn-danger",href:e.route("admin.students.index")},{default:d(()=>[U,W]),_:1},8,["href"]),r.loading?(n(),o("div",$,O)):x("",!0)])]),default:d(()=>[t("div",Q,[t("div",R,[t("div",X,[t("div",Y,[t("div",Z,[t("table",tt,[t("thead",null,[st,t("tr",et,[nt,ot,t("td",null,[B(t("input",{"onUpdate:modelValue":a[0]||(a[0]=s=>r.filter.fio=s),class:"form-control",placeholder:"\u0424\u0418\u041E",onKeyup:a[1]||(a[1]=P((...s)=>l.search&&l.search(...s),["enter"]))},null,544),[[w,r.filter.fio]])]),at])]),t("tbody",null,[(n(!0),o(f,null,L(i.orders.data,(s,h)=>(n(),o("tr",{class:"odd",key:"order"+s.id},[t("td",null,c(s.from?s.from+h:h+1),1),t("td",it,[t("div",{class:"avatar",style:T({backgroundImage:`url(/storage/files/${s.user.avatar})`})},null,4)]),t("td",null,c(s.user.fio),1),t("td",null,[t("div",lt,[t("div",dt,[s.status==1?(n(),o("div",{key:0,class:"paid success",onClick:m=>l.setPaid(s.id,0)},"\u041E\u043F\u043B\u0430\u0447\u0435\u043D\u043E",8,ct)):s.status==2?(n(),o("div",{key:1,class:"paid danger",onClick:m=>l.setPaid(s.id,1)},"\u041D\u0435 \u043E\u043F\u043B\u0430\u0447\u0435\u043D\u043E",8,rt)):(n(),o("div",{key:2,class:"paid black",onClick:m=>l.setPaid(s.id,1)},"\u041F\u0440\u043E\u0441\u0440\u043E\u0447\u0435\u043D\u043E ",8,_t)),t("div",ut,c(s.created_at),1)])])]),t("td",null,[t("div",ht,[t("div",mt,c(s.user.tel_num),1)])])]))),128))])])])]),u(b,{links:i.orders.links},null,8,["links"])])])])]),_:1})],64)}const yt=V(A,[["render",ft]]);export{yt as default};
