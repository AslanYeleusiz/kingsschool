import{A as g}from"./AdminLayout.20871ad5.js";import{L as y,H as C,a as w,o as l,c as n,f as V,w as b,F as c,d as e,t as d,l as u,g as m,m as _,v as f,q as p,h as k,e as r}from"./app.b334bc4f.js";import{P as B}from"./Pagination.0c0ca4f9.js";import{V as x}from"./ValidationError.7803fdc6.js";import{_ as L}from"./_plugin-vue_export-helper.cdc0426e.js";const T={components:{AdminLayout:g,Link:y,Pagination:B,ValidationError:x,Head:C},props:["schedules","date","day","subjects","teachers"],data(){return{schedule:{start_time:null,end_time:null,subject_id:null,teacher_id:null,group_id:null,date:this.date,day:route().params.day},groups:[],days:["\u041F\u043E\u043D\u0435\u0434\u0435\u043B\u044C\u043D\u0438\u043A","\u0412\u0442\u043E\u0440\u043D\u0438\u043A","\u0421\u0440\u0435\u0434\u0430","\u0427\u0435\u0442\u0432\u0435\u0440\u0433","\u041F\u044F\u0442\u043D\u0438\u0446\u0430","\u0421\u0443\u0431\u0431\u043E\u0442\u0430","\u0412\u043E\u0441\u043A\u0440\u0435\u0441\u0435\u043D\u0438\u0435"]}},methods:{getGroups(i){axios.get(route("admin.schedule.getGroups",i)).then(s=>{this.groups=s.data})},submit(){this.$inertia.post(route("admin.schedule.store"),this.schedule,{onError:()=>console.log("An error has occurred"),onSuccess:()=>console.log("The new contact has been saved")})},deleteData(i){Swal.fire({title:"\u0416\u043E\u044E\u0493\u0430 \u0441\u0435\u043D\u0456\u043C\u0434\u0456\u0441\u0456\u0437 \u0431\u0435",text:"\u049A\u0430\u0439\u0442\u044B\u043F \u049B\u0430\u043B\u043F\u044B\u043D\u0430 \u043A\u0435\u043B\u043C\u0435\u0443\u0456 \u043C\u04AF\u043C\u043A\u0456\u043D!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"\u0418\u04D9, \u0436\u043E\u044F\u043C\u044B\u043D!",cancelButtonText:"\u0411\u043E\u043B\u0434\u044B\u0440\u043C\u0430\u0443"}).then(s=>{s.isConfirmed&&!length&&this.$inertia.delete(route("admin.schedule.destroy",i))})}}},j=e("head",null,[e("title",null,"\u0410\u0434\u043C\u0438\u043D \u043F\u0430\u043D\u0435\u043B\u044C | \u0420\u0430\u0441\u043F\u0438\u0441\u0430\u043D\u0438\u044F \u049B\u043E\u0441\u0443")],-1),A={class:"row mb-2"},S={class:"col-sm-6"},U={class:"m-0"},D={class:"col-sm-6"},N={class:"breadcrumb float-sm-right"},q={class:"breadcrumb-item"},E=["href"],G=e("i",{class:"fas fa-dashboard"},null,-1),M=r(" \u0411\u0430\u0441\u0442\u044B \u0431\u0435\u0442 "),F=[G,M],H={class:"breadcrumb-item"},P=["href"],z=e("i",{class:"fas fa-dashboard"},null,-1),I=r(" \u0420\u0430\u0441\u043F\u0438\u0441\u0430\u043D\u0438\u044F \u0442\u0456\u0437\u0456\u043C\u0456 "),J=[z,I],K=e("li",{class:"breadcrumb-item active"}," \u0420\u0430\u0441\u043F\u0438\u0441\u0430\u043D\u0438\u044F \u049B\u043E\u0441\u0443 ",-1),O={class:"container-fluid"},Q={class:"card card-primary"},R={class:"card-body"},W={class:"table table-hover table-bordered table-striped dataTable dtr-inline"},X=e("thead",null,[e("tr",null,[e("th",null,"\u0412\u0440\u0435\u043C\u044F"),e("th",null,"\u041F\u0440\u0435\u0434\u043C\u0435\u0442"),e("th",null,"\u0423\u0447\u0438\u0442\u0435\u043B\u044C"),e("th",null,"\u0413\u0440\u0443\u043F\u043F\u0430"),e("th",null,"\u04D8\u0440\u0435\u043A\u0435\u0442")])],-1),Y=["onClick"],Z=e("i",{class:"fas fa-trash"},null,-1),$=[Z],ee={class:"row mt-5"},te={class:"col-md-3"},se={class:"form-group"},oe=e("label",{for:""},[r("\u041D\u0430\u0447\u0430\u043B\u043E "),e("span",{class:"red"},"*")],-1),le={class:"col-md-3"},ne={class:"form-group"},de=e("label",{for:""},[r("\u041A\u043E\u043D\u0435\u0446 "),e("span",{class:"red"},"*")],-1),ie={class:"row"},re={class:"col-md-4"},ae={class:"form-group"},ce=e("label",{for:""},[r("\u041F\u0440\u0435\u0434\u043C\u0435\u0442 "),e("span",{class:"red"},"*")],-1),ue=e("option",{value:null,hidden:""}," \u0412\u044B\u0431\u0440\u0430\u0442\u044C ",-1),_e=["value"],he={class:"col-md-4"},me={class:"form-group"},pe=e("label",{for:""},[r("\u0423\u0447\u0438\u0442\u0435\u043B\u044C "),e("span",{class:"red"},"*")],-1),be=e("option",{value:null,hidden:""}," \u0412\u044B\u0431\u0440\u0430\u0442\u044C ",-1),fe=["value"],ve={key:0,class:"col-md-4"},ge={class:"form-group"},ye=e("label",{for:""},"\u0413\u0440\u0443\u043F\u043F\u0430",-1),Ce=e("option",{value:null,hidden:""}," \u0412\u044B\u0431\u0440\u0430\u0442\u044C ",-1),we=["value"],Ve={class:"card-footer"},ke=e("button",{type:"submit",class:"btn btn-primary mr-1"}," \u0421\u0430\u049B\u0442\u0430\u0443 ",-1);function Be(i,s,a,xe,o,h){const v=w("AdminLayout");return l(),n(c,null,[j,V(v,null,{breadcrumbs:b(()=>[e("div",A,[e("div",S,[e("h1",U,"\u0420\u0430\u0441\u043F\u0438\u0441\u0430\u043D\u0438\u044F "+d(o.days[a.day-1])+" "+d(a.date),1)]),e("div",D,[e("ol",N,[e("li",q,[e("a",{href:i.route("admin.index")},F,8,E)]),e("li",H,[e("a",{href:i.route("admin.schedule.index")},J,8,P)]),K])])])]),default:b(()=>[e("div",O,[e("div",Q,[e("form",{method:"post",onSubmit:s[8]||(s[8]=u((...t)=>h.submit&&h.submit(...t),["prevent"]))},[e("div",R,[e("table",W,[X,e("tbody",null,[(l(!0),n(c,null,m(a.schedules,t=>(l(),n("tr",null,[e("td",null,d(t.start_time)+" - "+d(t.end_time),1),e("td",null,d(t.subject.name),1),e("td",null,d(t.teacher.fio),1),e("td",null,d(t.group?t.group.name:"\u0415\u043D\u0433\u0456\u0437\u0456\u043B\u043C\u0435\u0433\u0435\u043D"),1),e("td",null,[e("button",{onClick:u(Le=>h.deleteData(t.id),["prevent"]),class:"btn btn-danger",title:"\u0416\u043E\u044E"},$,8,Y)])]))),256))])]),e("div",ee,[e("div",te,[e("div",se,[oe,_(e("input",{type:"time",class:"form-control","onUpdate:modelValue":s[0]||(s[0]=t=>o.schedule.start_time=t),required:""},null,512),[[f,o.schedule.start_time]])])]),e("div",le,[e("div",ne,[de,_(e("input",{type:"time",class:"form-control","onUpdate:modelValue":s[1]||(s[1]=t=>o.schedule.end_time=t),required:""},null,512),[[f,o.schedule.end_time]])])])]),e("div",ie,[e("div",re,[e("div",ae,[ce,_(e("select",{class:"form-control","onUpdate:modelValue":s[2]||(s[2]=t=>o.schedule.subject_id=t),placeholder:"\u0411\u0435\u043B\u0441\u0435\u043D\u0434\u0456"},[ue,(l(!0),n(c,null,m(a.subjects,t=>(l(),n("option",{value:t.id},d(t.name),9,_e))),256))],512),[[p,o.schedule.subject_id]])])]),e("div",he,[e("div",me,[pe,_(e("select",{class:"form-control",onChange:s[3]||(s[3]=u(t=>h.getGroups(o.schedule.teacher_id),["prevent"])),"onUpdate:modelValue":s[4]||(s[4]=t=>o.schedule.teacher_id=t),placeholder:"\u0411\u0435\u043B\u0441\u0435\u043D\u0434\u0456"},[be,(l(!0),n(c,null,m(a.teachers,t=>(l(),n("option",{value:t.id},d(t.fio),9,fe))),256))],544),[[p,o.schedule.teacher_id]])])]),o.groups.length?(l(),n("div",ve,[e("div",ge,[ye,_(e("select",{class:"form-control",onChange:s[5]||(s[5]=u((...t)=>i.search&&i.search(...t),["prevent"])),"onUpdate:modelValue":s[6]||(s[6]=t=>o.schedule.group_id=t),placeholder:"\u0411\u0435\u043B\u0441\u0435\u043D\u0434\u0456"},[Ce,(l(!0),n(c,null,m(o.groups,t=>(l(),n("option",{value:t.id},d(t.name),9,we))),256))],544),[[p,o.schedule.group_id]])])])):k("",!0)])]),e("div",Ve,[ke,e("button",{type:"button",class:"btn btn-danger",onClick:s[7]||(s[7]=u(t=>i.back(),["prevent"]))}," \u0410\u0440\u0442\u049B\u0430 ")])],32)])])]),_:1})],64)}const De=L(T,[["render",Be]]);export{De as default};
