import{A as x}from"./AdminLayout.20564d65.js";import{L as V,H as U,a as f,o as r,c as m,f as l,w as g,F as h,d as e,j as _,k as a,v as d,i as k,p as C,m as v,g as p,t as b,e as y}from"./app.84041795.js";import{P as T}from"./Pagination.a990d213.js";import{V as L}from"./ValidationError.193c2aef.js";import{_ as A}from"./_plugin-vue_export-helper.cdc0426e.js";const B={components:{AdminLayout:x,Link:V,Pagination:T,ValidationError:L,Head:U},props:["roles","filials","user"],data(){return{image:{file:"",preview:""},iin:this.user.iin}},methods:{warningText(i,t="\u0411\u0430\u0440\u043B\u044B\u049B \u0431\u0430\u0493\u0430\u043D\u0434\u0430\u0440 \u0442\u043E\u043B\u0442\u044B\u0440\u0443 \u049B\u0430\u0436\u0435\u0442!"){Swal.fire({title:i,text:t,icon:"warning",showCancelButton:!1,confirmButtonColor:"#3085d6",confirmButtonText:"\u041E\u043A\u0435\u0439!"})},submit(){if(this.user.iin=this.iin,this.image.file&&(this.user.image=this.image.file),!this.user.role_id)return this.warningText("\u0420\u043E\u043B\u044C \u0442\u0430\u043D\u0434\u0430\u043B\u043C\u0430\u0434\u044B!");if(!this.user.filial_id)return this.warningText("\u0424\u0438\u043B\u0438\u0430\u043B \u0442\u0430\u043D\u0434\u0430\u043B\u043C\u0430\u0434\u044B!");this.user._method="put",this.$inertia.post(route("admin.users.update",this.user.id),this.user,{onError:()=>console.log("An error has occurred"),onSuccess:()=>console.log("The new contact has been saved")})},handleImageUpload(){if(this.image.file=this.$refs.image.files[0],this.image.file){const i=new FileReader;i.onloadend=t=>{this.image.preview=i.result},i.readAsDataURL(this.image.file),this.$refs.image.value=""}else this.user.image="",this.image.file="",this.image.preview=""},checkIin(){this.warningText("\u0411\u04B1\u043D\u0434\u0430\u0439 \u0418\u0418\u041D \u0431\u04B1\u0440\u044B\u043D \u0442\u0456\u0440\u043A\u0435\u043B\u0433\u0435\u043D",null)}},watch:{iin(i){i.length===12&&this.checkIin()}}},S=e("head",null,[e("title",null,"\u0410\u0434\u043C\u0438\u043D \u043F\u0430\u043D\u0435\u043B\u044C | \u049A\u043E\u043B\u0434\u0430\u043D\u0443\u0448\u044B \u049B\u043E\u0441\u0443")],-1),E={class:"row mb-2"},I=e("div",{class:"col-sm-6"},[e("h1",{class:"m-0"},"\u049A\u043E\u043B\u0434\u0430\u043D\u0443\u0448\u044B \u049B\u043E\u0441\u0443")],-1),N={class:"col-sm-6"},D={class:"breadcrumb float-sm-right"},F={class:"breadcrumb-item"},M=["href"],j=e("i",{class:"fas fa-dashboard"},null,-1),H=y(" \u0411\u0430\u0441\u0442\u044B \u0431\u0435\u0442 "),P=[j,H],R={class:"breadcrumb-item"},q=["href"],z=e("i",{class:"fas fa-dashboard"},null,-1),G=y(" \u049A\u043E\u043B\u0434\u0430\u043D\u0443\u0448\u044B \u0442\u0456\u0437\u0456\u043C\u0456 "),J=[z,G],K=e("li",{class:"breadcrumb-item active"}," \u049A\u043E\u043B\u0434\u0430\u043D\u0443\u0448\u044B \u049B\u043E\u0441\u0443 ",-1),O={class:"container-fluid"},Q={class:"card card-primary"},W={class:"card-body"},X={class:"row"},Y={class:"col-md-4"},Z={class:"form-group"},$=e("label",{for:""},"\u0418\u0418\u041D",-1),ee={class:"row"},se={class:"col-md-4"},te={class:"form-group"},oe=e("label",{for:""},"\u0424\u0430\u043C\u0438\u043B\u0438\u044F",-1),ie={class:"col-md-4"},le={class:"form-group"},ne=e("label",{for:""},"\u0418\u043C\u044F",-1),ae={class:"row"},de={class:"col-md-4"},re={class:"form-group"},me=e("label",{for:""},"\u0414\u0430\u0442\u0430 \u0440\u043E\u0436\u0434\u0435\u043D\u044C\u044F",-1),ce={class:"col-md-4"},_e={class:"form-group"},ue=e("label",{for:""},"\u0422\u0435\u043B\u0435\u0444\u043E\u043D",-1),he={class:"col-md-4"},fe={class:"form-group"},ge=e("label",{for:""},"\u0422\u0435\u043B\u0435\u0444\u043E\u043D \u0440\u043E\u0434\u0438\u0442\u0435\u043B\u044F",-1),ve={class:"form-group file-upload"},pe=e("label",{for:""},"\u0421\u0443\u0440\u0435\u0442",-1),be={class:"ml-2"},ye=["src"],we=["src"],xe={class:"file-input",style:{"margin-right":"10px"}},Ve=e("label",{for:"image"}," \u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044C ",-1),Ue={class:"row"},ke={class:"col-md-4"},Ce={class:"form-group"},Te=e("label",{for:""},"\u0420\u043E\u043B\u044C",-1),Le=e("option",{value:null,hidden:""}," \u0420\u043E\u043B\u044C \u0442\u0430\u04A3\u0434\u0430\u04A3\u044B\u0437 ",-1),Ae=["value"],Be={class:"col-md-4"},Se={class:"form-group"},Ee=e("label",{for:""},"\u0424\u0438\u043B\u043B\u0438\u0430\u043B",-1),Ie=e("option",{value:null,hidden:""}," \u0424\u0438\u043B\u043B\u0438\u0430\u043B \u0442\u0430\u04A3\u0434\u0430\u04A3\u044B\u0437 ",-1),Ne=["value"],De={class:"col-md-4"},Fe={class:"form-group"},Me=e("label",{for:""},"\u049A\u04B1\u043F\u0438\u044F \u0441\u04E9\u0437",-1),je={class:"card-footer"},He=e("button",{type:"submit",class:"btn btn-primary mr-1"}," \u0421\u0430\u049B\u0442\u0430\u0443 ",-1);function Pe(i,t,o,Re,c,u){const n=f("validation-error"),w=f("AdminLayout");return r(),m(h,null,[S,l(w,null,{breadcrumbs:g(()=>[e("div",E,[I,e("div",N,[e("ol",D,[e("li",F,[e("a",{href:i.route("admin.index")},P,8,M)]),e("li",R,[e("a",{href:i.route("admin.users.index")},J,8,q)]),K])])])]),default:g(()=>[e("div",O,[e("div",Q,[e("form",{method:"post",onSubmit:t[13]||(t[13]=_((...s)=>u.submit&&u.submit(...s),["prevent"]))},[e("div",W,[e("div",X,[e("div",Y,[e("div",Z,[$,a(e("input",{type:"text",class:"form-control","onUpdate:modelValue":t[0]||(t[0]=s=>c.iin=s),name:"iin",placeholder:"\u0418\u0418\u041D"},null,512),[[d,c.iin]]),l(n,{field:"iin"})])])]),e("div",ee,[e("div",se,[e("div",te,[oe,a(e("input",{type:"text",class:"form-control","onUpdate:modelValue":t[1]||(t[1]=s=>o.user.s_name=s),name:"s_name",placeholder:"\u0424\u0430\u043C\u0438\u043B\u0438\u044F"},null,512),[[d,o.user.s_name]]),l(n,{field:"s_name"})])]),e("div",ie,[e("div",le,[ne,a(e("input",{type:"text",class:"form-control","onUpdate:modelValue":t[2]||(t[2]=s=>o.user.name=s),name:"name",placeholder:"\u0418\u043C\u044F"},null,512),[[d,o.user.name]]),l(n,{field:"name"})])])]),e("div",ae,[e("div",de,[e("div",re,[me,a(e("input",{type:"date",class:"form-control","onUpdate:modelValue":t[3]||(t[3]=s=>o.user.birthday=s),name:"birthday",placeholder:"\u0424\u0430\u043C\u0438\u043B\u0438\u044F"},null,512),[[d,o.user.birthday]]),l(n,{field:"birthday"})])]),e("div",ce,[e("div",_e,[ue,a(e("input",{type:"text",class:"form-control","onUpdate:modelValue":t[4]||(t[4]=s=>o.user.tel_num=s),name:"tel_num",placeholder:"\u0418\u043C\u044F"},null,512),[[d,o.user.tel_num]]),l(n,{field:"tel_num"})])]),e("div",he,[e("div",fe,[ge,a(e("input",{type:"text",class:"form-control","onUpdate:modelValue":t[5]||(t[5]=s=>o.user.tel_num_family=s),name:"tel_num_family",placeholder:"\u0422\u0435\u043B\u0435\u0444\u043E\u043D \u0440\u043E\u0434\u0438\u0442\u0435\u043B\u044F"},null,512),[[d,o.user.tel_num_family]]),l(n,{field:"tel_num_family"})])])]),e("div",ve,[pe,e("div",be,[o.user.avatar&&!c.image.file?(r(),m("img",{key:0,src:i.route("index")+"/storage/files/"+o.user.avatar,height:"300",alt:"image",style:{"padding-bottom":"10px"}},null,8,ye)):k("",!0),a(e("img",{src:c.image.preview,height:"300",style:{"padding-bottom":"10px"}},null,8,we),[[C,c.image.preview]]),e("div",xe,[e("input",{type:"file",hidden:"",name:"image",onChange:t[6]||(t[6]=s=>u.handleImageUpload()),ref:"image",accept:"image/jpeg,image/png",class:"file",id:"image"},null,544),Ve])]),l(n,{field:"image"})]),e("div",Ue,[e("div",ke,[e("div",Ce,[Te,a(e("select",{class:"form-control",onChange:t[7]||(t[7]=_((...s)=>i.search&&i.search(...s),["prevent"])),"onUpdate:modelValue":t[8]||(t[8]=s=>o.user.role_id=s),placeholder:"\u0411\u0435\u043B\u0441\u0435\u043D\u0434\u0456"},[Le,(r(!0),m(h,null,p(o.roles,s=>(r(),m("option",{key:"role"+s.id,value:s.id},b(s.name),9,Ae))),128))],544),[[v,o.user.role_id]]),l(n,{field:"role_id"})])]),e("div",Be,[e("div",Se,[Ee,a(e("select",{class:"form-control",onChange:t[9]||(t[9]=_((...s)=>i.search&&i.search(...s),["prevent"])),"onUpdate:modelValue":t[10]||(t[10]=s=>o.user.filial_id=s),placeholder:"\u0411\u0435\u043B\u0441\u0435\u043D\u0434\u0456"},[Ie,(r(!0),m(h,null,p(o.filials,s=>(r(),m("option",{key:"filial"+s.id,value:s.id},b(s.name),9,Ne))),128))],544),[[v,o.user.filial_id]]),l(n,{field:"filial_id"})])]),e("div",De,[e("div",Fe,[Me,a(e("input",{type:"text",class:"form-control","onUpdate:modelValue":t[11]||(t[11]=s=>o.user.real_password=s),name:"real_password",placeholder:"\u049A\u04B1\u043F\u0438\u044F \u0441\u04E9\u0437"},null,512),[[d,o.user.real_password]]),l(n,{field:"real_password"})])])]),e("div",je,[He,e("button",{type:"button",class:"btn btn-danger",onClick:t[12]||(t[12]=_(s=>i.back(),["prevent"]))}," \u0410\u0440\u0442\u049B\u0430 ")])])],32)])])]),_:1})],64)}const Oe=A(B,[["render",Pe]]);export{Oe as default};
