import{_ as g,A as y}from"./AdminLayout.6d433b19.js";import{L as C,H as w,r as V,o as n,a as d,e as k,w as p,F as _,b as e,t as i,m as r,f as m,q as h,v as f,s as b,g as B,d as a}from"./app.a694719e.js";import{P as x}from"./Pagination.2e748b97.js";import{V as L}from"./ValidationError.f885515d.js";const T={components:{AdminLayout:y,Link:C,Pagination:x,ValidationError:L,Head:w},props:["schedules","date","day","teachers"],data(){return{schedule:{start_time:null,end_time:null,teacher_id:null,group_id:null,date:this.date,day:route().params.day},groups:[],days:["\u041F\u043E\u043D\u0435\u0434\u0435\u043B\u044C\u043D\u0438\u043A","\u0412\u0442\u043E\u0440\u043D\u0438\u043A","\u0421\u0440\u0435\u0434\u0430","\u0427\u0435\u0442\u0432\u0435\u0440\u0433","\u041F\u044F\u0442\u043D\u0438\u0446\u0430","\u0421\u0443\u0431\u0431\u043E\u0442\u0430","\u0412\u043E\u0441\u043A\u0440\u0435\u0441\u0435\u043D\u0438\u0435"]}},methods:{getGroups(l){axios.get(route("admin.schedule.getGroups",l)).then(s=>{this.groups=s.data})},submit(){this.$inertia.post(route("admin.schedule.store"),this.schedule,{onError:()=>console.log("An error has occurred"),onSuccess:()=>console.log("The new contact has been saved")})},deleteData(l){Swal.fire({title:"\u0416\u043E\u044E\u0493\u0430 \u0441\u0435\u043D\u0456\u043C\u0434\u0456\u0441\u0456\u0437 \u0431\u0435",text:"\u049A\u0430\u0439\u0442\u044B\u043F \u049B\u0430\u043B\u043F\u044B\u043D\u0430 \u043A\u0435\u043B\u043C\u0435\u0443\u0456 \u043C\u04AF\u043C\u043A\u0456\u043D!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"\u0418\u04D9, \u0436\u043E\u044F\u043C\u044B\u043D!",cancelButtonText:"\u0411\u043E\u043B\u0434\u044B\u0440\u043C\u0430\u0443"}).then(s=>{s.isConfirmed&&!length&&this.$inertia.delete(route("admin.schedule.destroy",l))})}}},A=e("head",null,[e("title",null,"\u0410\u0434\u043C\u0438\u043D \u043F\u0430\u043D\u0435\u043B\u044C | \u0420\u0430\u0441\u043F\u0438\u0441\u0430\u043D\u0438\u044F \u049B\u043E\u0441\u0443")],-1),S={class:"row mb-2"},D={class:"col-sm-6"},N={class:"m-0"},U={class:"col-sm-6"},q={class:"breadcrumb float-sm-right"},E={class:"breadcrumb-item"},G=["href"],M=e("i",{class:"fas fa-dashboard"},null,-1),F=a(" \u0411\u0430\u0441\u0442\u044B \u0431\u0435\u0442 "),H=[M,F],P={class:"breadcrumb-item"},j=["href"],z=e("i",{class:"fas fa-dashboard"},null,-1),I=a(" \u0420\u0430\u0441\u043F\u0438\u0441\u0430\u043D\u0438\u044F \u0442\u0456\u0437\u0456\u043C\u0456 "),J=[z,I],K=e("li",{class:"breadcrumb-item active"}," \u0420\u0430\u0441\u043F\u0438\u0441\u0430\u043D\u0438\u044F \u049B\u043E\u0441\u0443 ",-1),O={class:"container-fluid"},Q={class:"card card-primary"},R={class:"card-body"},W={class:"table table-hover table-bordered table-striped dataTable dtr-inline"},X=e("thead",null,[e("tr",null,[e("th",null,"\u0412\u0440\u0435\u043C\u044F"),e("th",null,"\u0423\u0447\u0438\u0442\u0435\u043B\u044C"),e("th",null,"\u0413\u0440\u0443\u043F\u043F\u0430"),e("th",null,"\u04D8\u0440\u0435\u043A\u0435\u0442")])],-1),Y=["onClick"],Z=e("i",{class:"fas fa-trash"},null,-1),$=[Z],ee={class:"row mt-5"},te={class:"col-md-3"},se={class:"form-group"},oe=e("label",{for:""},[a("\u041D\u0430\u0447\u0430\u043B\u043E "),e("span",{class:"red"},"*")],-1),le={class:"col-md-3"},ne={class:"form-group"},de=e("label",{for:""},[a("\u041A\u043E\u043D\u0435\u0446 "),e("span",{class:"red"},"*")],-1),ie={class:"row"},re={class:"col-md-4"},ae={class:"form-group"},ce=e("label",{for:""},[a("\u0423\u0447\u0438\u0442\u0435\u043B\u044C "),e("span",{class:"red"},"*")],-1),ue=e("option",{value:null,hidden:""}," \u0412\u044B\u0431\u0440\u0430\u0442\u044C ",-1),_e=["value"],he={key:0,class:"col-md-4"},me={class:"form-group"},pe=e("label",{for:""},"\u0413\u0440\u0443\u043F\u043F\u0430",-1),fe=e("option",{value:null,hidden:""}," \u0412\u044B\u0431\u0440\u0430\u0442\u044C ",-1),be=["value"],ve={class:"card-footer"},ge=e("button",{type:"submit",class:"btn btn-primary mr-1"}," \u0421\u0430\u049B\u0442\u0430\u0443 ",-1);function ye(l,s,c,Ce,o,u){const v=V("AdminLayout");return n(),d(_,null,[A,k(v,null,{breadcrumbs:p(()=>[e("div",S,[e("div",D,[e("h1",N,"\u0420\u0430\u0441\u043F\u0438\u0441\u0430\u043D\u0438\u044F "+i(o.days[c.day-1])+" "+i(c.date),1)]),e("div",U,[e("ol",q,[e("li",E,[e("a",{href:l.route("admin.index")},H,8,G)]),e("li",P,[e("a",{href:l.route("admin.schedule.index")},J,8,j)]),K])])])]),default:p(()=>[e("div",O,[e("div",Q,[e("form",{method:"post",onSubmit:s[7]||(s[7]=r((...t)=>u.submit&&u.submit(...t),["prevent"]))},[e("div",R,[e("table",W,[X,e("tbody",null,[(n(!0),d(_,null,m(c.schedules,t=>(n(),d("tr",null,[e("td",null,i(t.start_time)+" - "+i(t.end_time),1),e("td",null,i(t.teacher.fio),1),e("td",null,i(t.group?t.group.name:"\u0415\u043D\u0433\u0456\u0437\u0456\u043B\u043C\u0435\u0433\u0435\u043D"),1),e("td",null,[e("button",{onClick:r(we=>u.deleteData(t.id),["prevent"]),class:"btn btn-danger",title:"\u0416\u043E\u044E"},$,8,Y)])]))),256))])]),e("div",ee,[e("div",te,[e("div",se,[oe,h(e("input",{type:"time",class:"form-control","onUpdate:modelValue":s[0]||(s[0]=t=>o.schedule.start_time=t),required:""},null,512),[[f,o.schedule.start_time]])])]),e("div",le,[e("div",ne,[de,h(e("input",{type:"time",class:"form-control","onUpdate:modelValue":s[1]||(s[1]=t=>o.schedule.end_time=t),required:""},null,512),[[f,o.schedule.end_time]])])])]),e("div",ie,[e("div",re,[e("div",ae,[ce,h(e("select",{class:"form-control",onChange:s[2]||(s[2]=r(t=>u.getGroups(o.schedule.teacher_id),["prevent"])),"onUpdate:modelValue":s[3]||(s[3]=t=>o.schedule.teacher_id=t),placeholder:"\u0411\u0435\u043B\u0441\u0435\u043D\u0434\u0456"},[ue,(n(!0),d(_,null,m(c.teachers,t=>(n(),d("option",{value:t.id},i(t.fio),9,_e))),256))],544),[[b,o.schedule.teacher_id]])])]),o.groups.length?(n(),d("div",he,[e("div",me,[pe,h(e("select",{class:"form-control",onChange:s[4]||(s[4]=r((...t)=>l.search&&l.search(...t),["prevent"])),"onUpdate:modelValue":s[5]||(s[5]=t=>o.schedule.group_id=t),placeholder:"\u0411\u0435\u043B\u0441\u0435\u043D\u0434\u0456"},[fe,(n(!0),d(_,null,m(o.groups,t=>(n(),d("option",{value:t.id},i(t.name),9,be))),256))],544),[[b,o.schedule.group_id]])])])):B("",!0)])]),e("div",ve,[ge,e("button",{type:"button",class:"btn btn-danger",onClick:s[6]||(s[6]=r(t=>l.back(),["prevent"]))}," \u0410\u0440\u0442\u049B\u0430 ")])],32)])])]),_:1})],64)}const Le=g(T,[["render",ye]]);export{Le as default};
