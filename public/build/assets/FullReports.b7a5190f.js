import{_ as L,A as j}from"./AdminLayout.195c2df5.js";import{L as C,H as S,r as f,o as c,a as i,e as b,w as g,F as r,b as t,t as s,f as k,d as B,m as A,g as y}from"./app.c47bef28.js";import{P as T}from"./Pagination.de9b3fc6.js";const N={components:{AdminLayout:j,Link:C,Pagination:T,Head:S},props:["salaries","teacher"],data(){return{isTableExpanded:!0}},methods:{getReport(o,e){this.salaries[e].orders==null&&axios.get(route("admin.teachers.fullReportItem",{id:this.teacher.id,report_id:o})).then(n=>{this.salaries[e].orders=n.data.orders,setTimeout(()=>{this.isTableExpanded=!1},1e3)})},calculateAllPrice(o,e){return this.salaries[e].orders.reduce((h,u)=>h+(o?u.newPrice:u.price),0)},deleteData(o){Swal.fire({title:"\u0416\u043E\u044E\u0493\u0430 \u0441\u0435\u043D\u0456\u043C\u0434\u0456\u0441\u0456\u0437 \u0431\u0435?",text:"\u049A\u0430\u0439\u0442\u044B\u043F \u049B\u0430\u043B\u043F\u044B\u043D\u0430 \u043A\u0435\u043B\u043C\u0435\u0443\u0456 \u043C\u04AF\u043C\u043A\u0456\u043D!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"\u0418\u04D9, \u0436\u043E\u044F\u043C\u044B\u043D!",cancelButtonText:"\u0416\u043E\u049B"}).then(e=>{e.isConfirmed&&this.$inertia.delete(route("admin.teachers.destroy",o))})}}},R=t("head",null,[t("title",null,"\u0410\u0434\u043C\u0438\u043D \u043F\u0430\u043D\u0435\u043B\u044C | \u041F\u043E\u043B\u043D\u044B\u0439 \u043E\u0442\u0447\u0451\u0442")],-1),V={class:"row mb-2"},E={class:"col-sm-6"},F={class:"m-0"},D={class:"col-sm-6"},H={class:"breadcrumb float-sm-right"},I={class:"breadcrumb-item"},P=["href"],z=t("i",{class:"fas fa-dashboard"},null,-1),q=B(" \u0411\u0430\u0441\u0442\u044B \u0431\u0435\u0442 "),G=[z,q],J=t("li",{class:"breadcrumb-item active"}," \u041F\u043E\u043B\u043D\u044B\u0439 \u043E\u0442\u0447\u0451\u0442 ",-1),K={class:"container-fluid"},M={class:"card"},Q={class:"card-body"},U={class:"row"},W={class:"col-sm-12"},X={class:"table table-hover"},Y={"data-widget":"expandable-table","aria-expanded":"false"},Z={class:"d-flex justify-content-between"},$=["onClick"],O={class:"expandable-body"},tt={class:"p-0",style:{}},st={key:0,class:"table table-hover table-bordered table-striped dataTable dtr-inline"},lt=t("thead",null,[t("tr",{role:"row"},[t("th",null,"\u2116"),t("th"),t("th",null,"\u0424\u0418\u041E"),t("th",null,"\u041F\u0440\u0435\u0434\u043C\u0435\u0442"),t("th",{class:"t-c"},"\u0421\u0442\u0430\u0442\u0443\u0441"),t("th",{class:"t-c"},"\u0426\u0435\u043D\u0430"),t("th",{class:"t-c"},"\u0417\u0430\u0440\u043F\u043B\u0430\u0442\u0430")]),t("tr",{class:"filters"},[t("td"),t("td"),t("td"),t("td"),t("td"),t("td"),t("td")])],-1),ot={class:"d-f aj-c"},et={class:"d-f j-c"},dt={class:"paidBlock"},nt=t("div",{class:"paid success"},"\u041E\u043F\u043B\u0430\u0447\u0435\u043D\u043E",-1),ct={class:"paid date"},it={class:"d-f j-c"},at={class:"paidBlock"},_t={class:"paid success"},rt={class:"paid date"},ut=t("td",null,[t("div",{class:"d-f j-c"},[t("span",{class:"badge badge-success"}," \u0412\u044B\u0434\u0430\u043D\u043E ")])],-1),ht=t("tr",null,[t("td"),t("td"),t("td"),t("td"),t("td"),t("td"),t("td")],-1),mt={class:"odd"},pt=t("td",null,null,-1),vt=t("td",null,null,-1),ft=t("td",null,null,-1),bt=t("td",null,null,-1),gt=t("td",{class:"t-r"},"\u041E\u0431\u0449\u0435\u0435",-1),kt={class:"d-f j-c"},Bt={class:"paidBlock"},wt={class:"paid pd success no-hover"},xt={class:"paid date no-hover"},Lt=t("td",null,null,-1),jt={class:"odd"},Ct=t("td",null,null,-1),St=t("td",null,null,-1),At=t("td",null,null,-1),yt=t("td",null,null,-1),Tt=t("td",{class:"t-r"},"\u0428\u0442\u0440\u0430\u0444",-1),Nt={class:"d-f j-c"},Rt={class:"paidBlock px-4"},Vt=t("td",null,null,-1),Et={class:"odd"},Ft=t("td",null,null,-1),Dt=t("td",null,null,-1),Ht=t("td",null,null,-1),It=t("td",null,null,-1),Pt=t("td",{class:"t-r"},"\u041F\u0440\u0435\u043C\u0438\u044F",-1),zt={class:"d-f j-c"},qt={class:"paidBlock px-4"},Gt=t("td",null,null,-1),Jt={class:"odd"},Kt=t("td",null,null,-1),Mt=t("td",null,null,-1),Qt=t("td",null,null,-1),Ut=t("td",null,null,-1),Wt=t("td",{class:"t-r"},"\u0418\u0442\u043E\u0433",-1),Xt={class:"d-f j-c"},Yt={class:"paidBlock"},Zt={class:"paid pd success no-hover"},$t={class:"paid date no-hover"},Ot=t("td",null,null,-1);function ts(o,e,n,h,u,a){const w=f("Pagination"),x=f("AdminLayout");return c(),i(r,null,[R,b(x,null,{breadcrumbs:g(()=>[t("div",V,[t("div",E,[t("h1",F,"\u041F\u043E\u043B\u043D\u044B\u0439 \u043E\u0442\u0447\u0451\u0442 "+s(n.teacher.fio),1)]),t("div",D,[t("ol",H,[t("li",I,[t("a",{href:o.route("admin.index")},G,8,P)]),J])])])]),default:g(()=>[t("div",K,[t("div",M,[t("div",Q,[t("div",U,[t("div",W,[t("table",X,[t("tbody",null,[(c(!0),i(r,null,k(n.salaries,(d,_)=>(c(),i(r,null,[t("tr",Y,[t("td",null,[t("div",Z,[B(s(d.date)+" ",1),t("button",{onClick:l=>a.getReport(d.id,_),class:"btn btn-primary"}," \u041F\u043E\u043A\u0430\u0437\u0430\u0442\u044C ",8,$)])])]),t("tr",O,[t("td",null,[t("div",tt,[d.orders?(c(),i("table",st,[lt,t("tbody",null,[(c(!0),i(r,null,k(d.orders,(l,m)=>{var p,v;return c(),i("tr",{class:"odd",key:"eduPaidOrder"+l.id},[t("td",null,s(l.from?l.from+m:m+1),1),t("td",ot,[t("div",{class:"avatar",style:A({backgroundImage:`url(/storage/files/${(p=l.edu_order.user)==null?void 0:p.avatar})`})},null,4)]),t("td",null,s((v=l.edu_order.user)==null?void 0:v.fio),1),t("td",null,s(l.edu_order.subject?l.edu_order.subject.name:"\u041D\u0435\u0442 \u0434\u0430\u043D\u043D\u044B\u0445"),1),t("td",null,[t("div",et,[t("div",dt,[nt,t("div",ct,s(l.date),1)])])]),t("td",null,[t("div",it,[t("div",at,[t("div",_t,s(l.price.toLocaleString()),1),t("div",rt,s(l.newPrice.toLocaleString()),1)])])]),ut])}),128)),ht,t("tr",mt,[pt,vt,ft,bt,gt,t("td",null,[t("div",kt,[t("div",Bt,[t("div",wt,s(a.calculateAllPrice(0,_).toLocaleString()),1),t("div",xt,s(a.calculateAllPrice(1,_).toLocaleString()),1)])])]),Lt]),t("tr",jt,[Ct,St,At,yt,Tt,t("td",null,[t("div",Nt,[t("div",Rt,s(d.penalty),1)])]),Vt]),t("tr",Et,[Ft,Dt,Ht,It,Pt,t("td",null,[t("div",zt,[t("div",qt,s(d.bonus),1)])]),Gt]),t("tr",Jt,[Kt,Mt,Qt,Ut,Wt,t("td",null,[t("div",Xt,[t("div",Yt,[t("div",Zt,s(a.calculateAllPrice(0,_).toLocaleString()),1),t("div",$t,s(d.price.toLocaleString()),1)])])]),Ot])])])):y("",!0)])])])],64))),256))])])])]),b(w,{links:n.salaries.links},null,8,["links"])])])])]),_:1})],64)}const es=L(N,[["render",ts]]);export{es as default};
