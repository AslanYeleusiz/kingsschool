import{_ as w,A as L}from"./AdminLayout-a3b7c70b.js";import{L as P,H as x,r as f,o as e,e as l,b as a,w as n,F as m,a as s,h as v,g as p,v as C,k as V,j as A,f as B,i as g,d as r,t as c,n as E}from"./app-d2a1545d.js";import{P as N}from"./Pagination-9a7fdb59.js";const I={components:{AdminLayout:L,Link:P,Pagination:N,Head:x},props:["teachers","filials","user"],data(){return{filter:{fio:route().params.fio?route().params.fio:null,filial_id:route().params.filial_id?route().params.filial_id:null},loading:0}},methods:{search(){this.loading=1;const o=this.clearParams(this.filter);this.$inertia.get(route("admin.teachers.index"),o)}}},M=s("head",null,[s("title",null,"Админ панель | Преподаватели")],-1),S={class:"row mb-2"},T=s("div",{class:"col-sm-6"},[s("h1",{class:"m-0"},"Список преподавателей")],-1),j={class:"col-sm-6"},D={class:"breadcrumb float-sm-right"},F={class:"breadcrumb-item"},H=["href"],K=s("i",{class:"fas fa-dashboard"},null,-1),U=r(" Главная страница "),z=[K,U],q=s("li",{class:"breadcrumb-item active"}," Список преподавателей ",-1),G={class:"buttons d-flex align-items-center"},J=s("i",{class:"fa fa-plus"},null,-1),O=r(" Добавить "),Q=s("i",{class:"fa fa-trash"},null,-1),R=r(" Очистить фильтр "),W={class:"container-fluid"},X={class:"card"},Y={class:"card-body"},Z={class:"row"},$={class:"col-sm-12"},ss={class:"table table-hover table-bordered dataTable dtr-inline"},ts={role:"row"},es=s("th",null,"№",-1),ls=s("th",null,"ФИО",-1),os=s("th",null,"Зарплата",-1),is=s("th",null,"Режим работы",-1),ns=s("th",null,"Отчет",-1),as={key:0},ds=s("th",null,"Действия",-1),rs={class:"filters"},_s=s("td",null,null,-1),cs=s("td",null,null,-1),us=s("td",null,null,-1),hs=s("td",null,null,-1),fs={key:0},ms=s("option",{value:null}," Все ",-1),vs=["value"],bs=s("td",null,null,-1),ps={class:"d-flex gap-20"},gs=["onClick"],ks={class:"d-f j-c"},ys={class:"paidBlock"},ws={key:0,class:"paid success"},Ls={key:1,class:"paid danger"},Ps={key:2,class:"paid black"},xs={class:"paid date"},Cs=r(" Расписание "),Vs=r(" Список студентов "),As={key:0},Bs={class:"btn-group btn-group-sm"},Es=s("i",{class:"fas fa-edit"},null,-1);function Ns(o,i,d,Is,u,h){const _=f("Link"),k=f("Pagination"),y=f("AdminLayout");return e(),l(m,null,[M,a(y,null,{breadcrumbs:n(()=>[s("div",S,[T,s("div",j,[s("ol",D,[s("li",F,[s("a",{href:o.route("admin.index")},z,8,H)]),q])])])]),header:n(()=>[s("div",G,[a(_,{class:"btn btn-primary mr-2",href:o.route("admin.users.create")},{default:n(()=>[J,O]),_:1},8,["href"]),a(_,{class:"btn btn-danger",href:o.route("admin.teachers.index")},{default:n(()=>[Q,R]),_:1},8,["href"])])]),default:n(()=>[s("div",W,[s("div",X,[s("div",Y,[s("div",Z,[s("div",$,[s("table",ss,[s("thead",null,[s("tr",ts,[es,ls,os,is,ns,d.user.role_id<3?(e(),l("th",as,"Филиал")):v("",!0),ds]),s("tr",rs,[_s,s("td",null,[p(s("input",{"onUpdate:modelValue":i[0]||(i[0]=t=>u.filter.fio=t),class:"form-control",placeholder:"Поиск...",onKeyup:i[1]||(i[1]=V((...t)=>h.search&&h.search(...t),["enter"]))},null,544),[[C,u.filter.fio]])]),cs,us,hs,d.user.role_id<3?(e(),l("td",fs,[p(s("select",{class:"form-control",onChange:i[2]||(i[2]=B((...t)=>h.search&&h.search(...t),["prevent"])),"onUpdate:modelValue":i[3]||(i[3]=t=>u.filter.filial_id=t),placeholder:"Белсенді"},[ms,(e(!0),l(m,null,g(d.filials,t=>(e(),l("option",{value:t.id},c(t.name),9,vs))),256))],544),[[A,u.filter.filial_id]])])):v("",!0),bs])]),s("tbody",null,[(e(!0),l(m,null,g(d.teachers.data,(t,b)=>(e(),l("tr",{class:"odd",key:"teacher"+t.id},[s("td",null,c(t.from?t.from+b:b+1),1),s("td",null,[s("div",ps,[s("div",{class:"avatar",style:E({backgroundImage:`url(/storage/files/${t.avatar})`}),onClick:Ms=>o.$page.props.flash.image=t==null?void 0:t.avatar},null,12,gs),r(" "+c(t.fio),1)])]),s("td",null,[s("div",ks,[s("div",ys,[t.lastEduPaid.status==1?(e(),l("div",ws," Оплачено")):t.lastEduPaid.status==2?(e(),l("div",Ls,"Не оплачено")):(e(),l("div",Ps,"Просрочено ")),s("div",xs,c(t.lastEduPaid.date),1)])])]),s("td",null,[a(_,{href:o.route("admin.schedule.index",{teacher_id:t.id}),class:"block",title:"Расписание учителя"},{default:n(()=>[Cs]),_:2},1032,["href"])]),s("td",null,[a(_,{href:o.route("admin.teachers.students",t.id),class:"block",title:"Список студентов"},{default:n(()=>[Vs]),_:2},1032,["href"])]),d.user.role_id<3?(e(),l("td",As,c(t.filial.name),1)):v("",!0),s("td",null,[s("div",Bs,[a(_,{href:o.route("admin.users.edit",t),class:"btn btn-primary",title:"Изменить"},{default:n(()=>[Es]),_:2},1032,["href"])])])]))),128))])])])]),a(k,{links:d.teachers.links},null,8,["links"])])])])]),_:1})],64)}const Ds=w(I,[["render",Ns]]);export{Ds as default};
