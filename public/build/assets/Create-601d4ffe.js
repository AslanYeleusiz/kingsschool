import{A as g}from"./AdminLayout-4103f48c.js";import{L as y,H as C,a as w,o as l,c as n,d as V,w as b,F as c,e,t as d,f as u,j as m,g as _,v as f,l as p,i as k,h as r}from"./app-9ffddd28.js";import{P as B}from"./Pagination-53a04694.js";import{V as x}from"./ValidationError-271a82fa.js";import{_ as j}from"./_plugin-vue_export-helper-c27b6911.js";const L={components:{AdminLayout:g,Link:y,Pagination:B,ValidationError:x,Head:C},props:["schedules","date","day","subjects","teachers"],data(){return{schedule:{start_time:null,end_time:null,subject_id:null,teacher_id:null,group_id:null,date:this.date,day:route().params.day},groups:[],days:["Понедельник","Вторник","Среда","Четверг","Пятница","Суббота","Воскресение"]}},methods:{getGroups(i){axios.get(route("admin.schedule.getGroups",i)).then(s=>{this.groups=s.data})},submit(){this.$inertia.post(route("admin.schedule.store"),this.schedule,{onError:()=>console.log("An error has occurred"),onSuccess:()=>console.log("The new contact has been saved")})},deleteData(i){Swal.fire({title:"Жоюға сенімдісіз бе",text:"Қайтып қалпына келмеуі мүмкін!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Иә, жоямын!",cancelButtonText:"Болдырмау"}).then(s=>{s.isConfirmed&&!length&&this.$inertia.delete(route("admin.schedule.destroy",i))})}}},T=e("head",null,[e("title",null,"Админ панель | Расписания қосу")],-1),A={class:"row mb-2"},S={class:"col-sm-6"},U={class:"m-0"},D={class:"col-sm-6"},N={class:"breadcrumb float-sm-right"},E={class:"breadcrumb-item"},G=["href"],M=e("i",{class:"fas fa-dashboard"},null,-1),q=r(" Басты бет "),F=[M,q],H={class:"breadcrumb-item"},P=["href"],z=e("i",{class:"fas fa-dashboard"},null,-1),I=r(" Расписания тізімі "),J=[z,I],K=e("li",{class:"breadcrumb-item active"}," Расписания қосу ",-1),O={class:"container-fluid"},Q={class:"card card-primary"},R={class:"card-body"},W={class:"table table-hover table-bordered table-striped dataTable dtr-inline"},X=e("thead",null,[e("tr",null,[e("th",null,"Время"),e("th",null,"Предмет"),e("th",null,"Учитель"),e("th",null,"Группа"),e("th",null,"Әрекет")])],-1),Y=["onClick"],Z=e("i",{class:"fas fa-trash"},null,-1),$=[Z],ee={class:"row mt-5"},te={class:"col-md-3"},se={class:"form-group"},oe=e("label",{for:""},[r("Начало "),e("span",{class:"red"},"*")],-1),le={class:"col-md-3"},ne={class:"form-group"},de=e("label",{for:""},[r("Конец "),e("span",{class:"red"},"*")],-1),ie={class:"row"},re={class:"col-md-4"},ae={class:"form-group"},ce=e("label",{for:""},[r("Предмет "),e("span",{class:"red"},"*")],-1),ue=e("option",{value:null,hidden:""}," Выбрать ",-1),_e=["value"],he={class:"col-md-4"},me={class:"form-group"},pe=e("label",{for:""},[r("Учитель "),e("span",{class:"red"},"*")],-1),be=e("option",{value:null,hidden:""}," Выбрать ",-1),fe=["value"],ve={key:0,class:"col-md-4"},ge={class:"form-group"},ye=e("label",{for:""},"Группа",-1),Ce=e("option",{value:null,hidden:""}," Выбрать ",-1),we=["value"],Ve={class:"card-footer"},ke=e("button",{type:"submit",class:"btn btn-primary mr-1"}," Сақтау ",-1);function Be(i,s,a,xe,o,h){const v=w("AdminLayout");return l(),n(c,null,[T,V(v,null,{breadcrumbs:b(()=>[e("div",A,[e("div",S,[e("h1",U,"Расписания "+d(o.days[a.day-1])+" "+d(a.date),1)]),e("div",D,[e("ol",N,[e("li",E,[e("a",{href:i.route("admin.index")},F,8,G)]),e("li",H,[e("a",{href:i.route("admin.schedule.index")},J,8,P)]),K])])])]),default:b(()=>[e("div",O,[e("div",Q,[e("form",{method:"post",onSubmit:s[8]||(s[8]=u((...t)=>h.submit&&h.submit(...t),["prevent"]))},[e("div",R,[e("table",W,[X,e("tbody",null,[(l(!0),n(c,null,m(a.schedules,t=>(l(),n("tr",null,[e("td",null,d(t.start_time)+" - "+d(t.end_time),1),e("td",null,d(t.subject.name),1),e("td",null,d(t.teacher.fio),1),e("td",null,d(t.group?t.group.name:"Енгізілмеген"),1),e("td",null,[e("button",{onClick:u(je=>h.deleteData(t.id),["prevent"]),class:"btn btn-danger",title:"Жою"},$,8,Y)])]))),256))])]),e("div",ee,[e("div",te,[e("div",se,[oe,_(e("input",{type:"time",class:"form-control","onUpdate:modelValue":s[0]||(s[0]=t=>o.schedule.start_time=t),required:""},null,512),[[f,o.schedule.start_time]])])]),e("div",le,[e("div",ne,[de,_(e("input",{type:"time",class:"form-control","onUpdate:modelValue":s[1]||(s[1]=t=>o.schedule.end_time=t),required:""},null,512),[[f,o.schedule.end_time]])])])]),e("div",ie,[e("div",re,[e("div",ae,[ce,_(e("select",{class:"form-control","onUpdate:modelValue":s[2]||(s[2]=t=>o.schedule.subject_id=t),placeholder:"Белсенді"},[ue,(l(!0),n(c,null,m(a.subjects,t=>(l(),n("option",{value:t.id},d(t.name),9,_e))),256))],512),[[p,o.schedule.subject_id]])])]),e("div",he,[e("div",me,[pe,_(e("select",{class:"form-control",onChange:s[3]||(s[3]=u(t=>h.getGroups(o.schedule.teacher_id),["prevent"])),"onUpdate:modelValue":s[4]||(s[4]=t=>o.schedule.teacher_id=t),placeholder:"Белсенді"},[be,(l(!0),n(c,null,m(a.teachers,t=>(l(),n("option",{value:t.id},d(t.fio),9,fe))),256))],544),[[p,o.schedule.teacher_id]])])]),o.groups.length?(l(),n("div",ve,[e("div",ge,[ye,_(e("select",{class:"form-control",onChange:s[5]||(s[5]=u((...t)=>i.search&&i.search(...t),["prevent"])),"onUpdate:modelValue":s[6]||(s[6]=t=>o.schedule.group_id=t),placeholder:"Белсенді"},[Ce,(l(!0),n(c,null,m(o.groups,t=>(l(),n("option",{value:t.id},d(t.name),9,we))),256))],544),[[p,o.schedule.group_id]])])])):k("",!0)])]),e("div",Ve,[ke,e("button",{type:"button",class:"btn btn-danger",onClick:s[7]||(s[7]=u(t=>i.back(),["prevent"]))}," Артқа ")])],32)])])]),_:1})],64)}const De=j(L,[["render",Be]]);export{De as default};
