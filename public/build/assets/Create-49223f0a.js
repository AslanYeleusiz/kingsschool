import{_ as g,A as y}from"./AdminLayout-e2a9f783.js";import{L as C,H as w,r as V,o as n,e as d,b as k,w as f,F as i,a as e,t as r,f as a,i as _,g as m,v as B,j as p,h as b,d as c}from"./app-76f5f351.js";import{P as L}from"./Pagination-6b5293cb.js";import{V as T}from"./ValidationError-94dfb222.js";const x={components:{AdminLayout:y,Link:C,Pagination:L,ValidationError:T,Head:w},props:["schedules","date","day","teachers"],data(){return{schedule:{start_time:null,end_time:null,duration:60,teacher_id:null,group_id:null,date:this.date,day:route().params.day},groups:[],days:["Понедельник","Вторник","Среда","Четверг","Пятница","Суббота","Воскресение"]}},methods:{getGroups(l){axios.get(route("admin.schedule.getGroups",l)).then(s=>{this.groups=s.data})},submit(){this.$inertia.post(route("admin.schedule.store"),this.schedule,{onError:()=>console.log("An error has occurred"),onSuccess:()=>console.log("The new contact has been saved")})},deleteData(l){Swal.fire({title:"Уверены, что хотите удалить?",text:"Возможно, что нельзя будет восстановить!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Да, удалю!",cancelButtonText:"Отмена"}).then(s=>{s.isConfirmed&&!length&&this.$inertia.delete(route("admin.schedule.destroy",l))})}}},A=e("head",null,[e("title",null,"Админ панель | Добавить расписание")],-1),S={class:"row mb-2"},D={class:"col-sm-6"},N={class:"m-0"},U={class:"col-sm-6"},E={class:"breadcrumb float-sm-right"},G={class:"breadcrumb-item"},M=["href"],F=e("i",{class:"fas fa-dashboard"},null,-1),H=c(" Главная страница "),P=[F,H],j={class:"breadcrumb-item"},q=["href"],z=e("i",{class:"fas fa-dashboard"},null,-1),I=c(" Список расписаний "),J=[z,I],K=e("li",{class:"breadcrumb-item active"}," Добавить расписание ",-1),O={class:"container-fluid"},Q={class:"card card-primary"},R={class:"card-body"},W={class:"table table-hover table-bordered table-striped dataTable dtr-inline"},X=e("thead",null,[e("tr",null,[e("th",null,"Время"),e("th",null,"Учитель"),e("th",null,"Группа"),e("th",null,"Действия")])],-1),Y=["onClick"],Z=e("i",{class:"fas fa-trash"},null,-1),$=[Z],ee={class:"row mt-5"},te={class:"col-md-3"},se={class:"form-group"},oe=e("label",{for:""},[c("Начало "),e("span",{class:"red"},"*")],-1),le={class:"col-md-3"},ne={class:"form-group"},de=e("label",{for:""},[c("Длительность "),e("span",{class:"red"},"*")],-1),re=["value"],ie={class:"row"},ae={class:"col-md-4"},ce={class:"form-group"},ue=e("label",{for:""},[c("Учитель "),e("span",{class:"red"},"*")],-1),he=e("option",{value:null,hidden:""}," Выбрать ",-1),_e=["value"],me={key:0,class:"col-md-4"},pe={class:"form-group"},fe=e("label",{for:""},"Группа",-1),be=e("option",{value:null,hidden:""}," Выбрать ",-1),ve=["value"],ge={class:"card-footer"},ye=e("button",{type:"submit",class:"btn btn-primary mr-1"}," Сохранить ",-1);function Ce(l,s,u,we,o,h){const v=V("AdminLayout");return n(),d(i,null,[A,k(v,null,{breadcrumbs:f(()=>[e("div",S,[e("div",D,[e("h1",N,"Расписания "+r(o.days[u.day-1])+" "+r(u.date),1)]),e("div",U,[e("ol",E,[e("li",G,[e("a",{href:l.route("admin.index")},P,8,M)]),e("li",j,[e("a",{href:l.route("admin.schedule.index")},J,8,q)]),K])])])]),default:f(()=>[e("div",O,[e("div",Q,[e("form",{method:"post",onSubmit:s[8]||(s[8]=a((...t)=>h.submit&&h.submit(...t),["prevent"]))},[e("div",R,[e("table",W,[X,e("tbody",null,[(n(!0),d(i,null,_(u.schedules,t=>(n(),d("tr",null,[e("td",null,r(t.start_time)+" - "+r(t.end_time),1),e("td",null,r(t.teacher.fio),1),e("td",null,r(t.group?t.group.name:"Енгізілмеген"),1),e("td",null,[e("button",{onClick:a(Ve=>h.deleteData(t.id),["prevent"]),class:"btn btn-danger",title:"Жою"},$,8,Y)])]))),256))])]),e("div",ee,[e("div",te,[e("div",se,[oe,m(e("input",{type:"time",class:"form-control","onUpdate:modelValue":s[0]||(s[0]=t=>o.schedule.start_time=t),required:""},null,512),[[B,o.schedule.start_time]])])]),e("div",le,[e("div",ne,[de,m(e("select",{class:"form-control",onChange:s[1]||(s[1]=a((...t)=>l.search&&l.search(...t),["prevent"])),"onUpdate:modelValue":s[2]||(s[2]=t=>o.schedule.duration=t),placeholder:"Белсенді"},[(n(),d(i,null,_(180,t=>(n(),d(i,null,[t%30?b("",!0):(n(),d("option",{key:0,value:t},r(t)+" минут ",9,re))],64))),64))],544),[[p,o.schedule.duration]])])])]),e("div",ie,[e("div",ae,[e("div",ce,[ue,m(e("select",{class:"form-control",onChange:s[3]||(s[3]=a(t=>h.getGroups(o.schedule.teacher_id),["prevent"])),"onUpdate:modelValue":s[4]||(s[4]=t=>o.schedule.teacher_id=t),placeholder:"Белсенді"},[he,(n(!0),d(i,null,_(u.teachers,t=>(n(),d("option",{value:t.id},r(t.fio),9,_e))),256))],544),[[p,o.schedule.teacher_id]])])]),o.groups.length?(n(),d("div",me,[e("div",pe,[fe,m(e("select",{class:"form-control",onChange:s[5]||(s[5]=a((...t)=>l.search&&l.search(...t),["prevent"])),"onUpdate:modelValue":s[6]||(s[6]=t=>o.schedule.group_id=t),placeholder:"Белсенді"},[be,(n(!0),d(i,null,_(o.groups,t=>(n(),d("option",{value:t.id},r(t.name),9,ve))),256))],544),[[p,o.schedule.group_id]])])])):b("",!0)])]),e("div",ge,[ye,e("button",{type:"button",class:"btn btn-danger",onClick:s[7]||(s[7]=a(t=>l.back(),["prevent"]))}," Назад ")])],32)])])]),_:1})],64)}const xe=g(x,[["render",Ce]]);export{xe as default};
