import{_ as k,A as w}from"./AdminLayout.b1808670.js";import{L as B,H as L,r as h,o as i,a,e as m,w as v,F as p,b as t,t as l,f as S,q as f,v as b,m as x,g as A,h as C,d as j}from"./app.61c0b581.js";import{P}from"./Pagination.ef8e0910.js";const V={components:{AdminLayout:w,Link:B,Pagination:P,Head:L},props:["eduPaidOrders","teacher"],data(){return{filter:{fio:route().params.fio?route().params.fio:null},loading:0,penalty:0,bonus:0}},methods:{getSalary(n){Swal.fire({title:"\u0412\u044B\u0434\u0430\u0442\u044C \u0437\u0430\u0440\u043F\u043B\u0430\u0442\u0443?",text:"\u041E\u0442\u0447\u0451\u0442 \u043E \u043F\u0440\u0435\u0434\u044B\u0434\u0443\u0449\u0438\u0445 \u0437\u0430\u0440\u043F\u043B\u0430\u0442\u0430\u0445 \u043C\u043E\u0436\u043D\u043E \u0443\u0432\u0438\u0434\u0435\u0442\u044C \u043D\u0430 \u043F\u0430\u043D\u0435\u043B\u0435 \u043E\u0442\u0447\u0451\u0442\u0430!",icon:"success",showCancelButton:!0,confirmButtonColor:"#71DD37",cancelButtonColor:"#d33",confirmButtonText:"\u0412\u044B\u0434\u0430\u0442\u044C!",cancelButtonText:"\u041E\u0442\u043C\u0435\u043D\u0430"}).then(o=>{o.isConfirmed&&this.$inertia.post(route("admin.teachers.reportStore",n),{penalty:this.penalty,bonus:this.bonus,price:this.calculateAllPrice(1)+(this.bonus-this.penalty)})})},calculateAllPrice(n){return this.eduPaidOrders.reduce((e,_)=>e+(n?_.newPrice:_.price),0)}}},T=t("head",null,[t("title",null,"\u0410\u0434\u043C\u0438\u043D \u043F\u0430\u043D\u0435\u043B\u044C | \u041E\u0442\u0447\u0435\u0442")],-1),D={class:"row mb-2"},N={class:"col-sm-6"},I={class:"m-0"},F=t("h5",{class:"m-0"},"\u041E\u0442\u0447\u0435\u0442 \u0434\u043B\u044F \u0432\u044B\u0434\u0430\u0447\u0438 \u0437\u0430\u0440\u043F\u043B\u0430\u0442\u044B \u0437\u0430 \u044D\u0442\u043E\u0442 \u043F\u0435\u0440\u0438\u043E\u0434",-1),H={class:"col-sm-6"},M={class:"breadcrumb float-sm-right"},U={class:"breadcrumb-item"},q=["href"],z=t("i",{class:"fas fa-dashboard"},null,-1),E=j(" \u0411\u0430\u0441\u0442\u044B \u0431\u0435\u0442 "),G=[z,E],J=t("li",{class:"breadcrumb-item active"}," \u041E\u0442\u0447\u0435\u0442 \u0442\u0456\u0437\u0456\u043C\u0456 ",-1),K={key:0,class:"container-fluid"},Q={class:"card"},R={class:"card-body"},W={class:"row"},X={class:"col-sm-12"},Y={class:"table table-hover table-bordered table-striped dataTable dtr-inline"},Z=t("thead",null,[t("tr",{role:"row"},[t("th",null,"\u2116"),t("th"),t("th",null,"\u0424\u0418\u041E"),t("th",null,"\u041F\u0440\u0435\u0434\u043C\u0435\u0442"),t("th",{class:"t-c"},"\u0421\u0442\u0430\u0442\u0443\u0441"),t("th",{class:"t-c"},"\u0426\u0435\u043D\u0430"),t("th",{class:"t-c"},"\u0417\u0430\u0440\u043F\u043B\u0430\u0442\u0430")]),t("tr",{class:"filters"},[t("td"),t("td"),t("td"),t("td"),t("td"),t("td"),t("td")])],-1),O={class:"d-f aj-c"},$=["onClick"],tt={class:"d-f j-c"},st={class:"paidBlock"},lt=t("div",{class:"paid success"},"\u041E\u043F\u043B\u0430\u0447\u0435\u043D\u043E",-1),ot={class:"paid date"},et={class:"d-f j-c"},nt={class:"paidBlock"},dt={class:"paid success"},ct={class:"paid date"},it=t("td",null,[t("div",{class:"d-f j-c"},[t("span",{class:"badge badge-warning"}," \u041D\u0435 \u0432\u044B\u0434\u0430\u043D\u043E ")])],-1),at=t("tr",null,[t("td"),t("td"),t("td"),t("td"),t("td"),t("td"),t("td")],-1),_t={class:"odd"},ut=t("td",null,null,-1),rt=t("td",null,null,-1),ht=t("td",null,null,-1),mt=t("td",null,null,-1),vt=t("td",{class:"t-r"},"\u041E\u0431\u0449\u0435\u0435",-1),pt={class:"d-f j-c"},ft={class:"paidBlock"},bt={class:"paid pd success no-hover"},gt={class:"paid date no-hover"},yt=t("td",null,null,-1),kt={class:"odd"},wt=t("td",null,null,-1),Bt=t("td",null,null,-1),Lt=t("td",null,null,-1),St=t("td",null,null,-1),xt=t("td",{class:"t-r"},"\u0428\u0442\u0440\u0430\u0444",-1),At=t("td",null,null,-1),Ct={class:"odd"},jt=t("td",null,null,-1),Pt=t("td",null,null,-1),Vt=t("td",null,null,-1),Tt=t("td",null,null,-1),Dt=t("td",{class:"t-r"},"\u041F\u0440\u0435\u043C\u0438\u044F",-1),Nt=t("td",null,null,-1),It={class:"odd"},Ft=t("td",null,null,-1),Ht=t("td",null,null,-1),Mt=t("td",null,null,-1),Ut=t("td",null,null,-1),qt=t("td",{class:"t-r"},"\u0418\u0442\u043E\u0433",-1),zt={class:"d-f j-c"},Et={class:"paidBlock"},Gt={class:"paid pd success no-hover"},Jt={class:"paid date no-hover"},Kt=t("td",null,null,-1),Qt={class:"odd"},Rt=t("td",null,null,-1),Wt=t("td",null,null,-1),Xt=t("td",null,null,-1),Yt=t("td",null,null,-1),Zt=t("td",null,null,-1),Ot=t("td",null,null,-1);function $t(n,o,e,_,d,c){const g=h("Pagination"),y=h("AdminLayout");return i(),a(p,null,[T,m(y,null,{breadcrumbs:v(()=>[t("div",D,[t("div",N,[t("h1",I,[t("b",null,l(e.teacher.fio),1)]),F]),t("div",H,[t("ol",M,[t("li",U,[t("a",{href:n.route("admin.index")},G,8,q)]),J])])])]),default:v(()=>[e.eduPaidOrders.length?(i(),a("div",K,[t("div",Q,[t("div",R,[t("div",W,[t("div",X,[t("table",Y,[Z,t("tbody",null,[(i(!0),a(p,null,S(e.eduPaidOrders,(s,u)=>(i(),a("tr",{class:"odd",key:"eduPaidOrder"+s.id},[t("td",null,l(s.from?s.from+u:u+1),1),t("td",O,[t("div",{class:"avatar",style:C({backgroundImage:`url(/storage/files/${s.edu_order.user.avatar})`}),onClick:ts=>{var r;return n.$page.props.flash.image=(r=s.edu_order.user)==null?void 0:r.avatar}},null,12,$)]),t("td",null,l(s.edu_order.user.fio),1),t("td",null,l(s.edu_order.subject?s.edu_order.subject.name:"\u041D\u0435\u0442 \u0434\u0430\u043D\u043D\u044B\u0445"),1),t("td",null,[t("div",tt,[t("div",st,[lt,t("div",ot,l(s.date),1)])])]),t("td",null,[t("div",et,[t("div",nt,[t("div",dt,l(s.price.toLocaleString()),1),t("div",ct,l(s.newPrice.toLocaleString()),1)])])]),it]))),128)),at,t("tr",_t,[ut,rt,ht,mt,vt,t("td",null,[t("div",pt,[t("div",ft,[t("div",bt,l(c.calculateAllPrice(0).toLocaleString()),1),t("div",gt,l(c.calculateAllPrice(1).toLocaleString()),1)])])]),yt]),t("tr",kt,[wt,Bt,Lt,St,xt,t("td",null,[f(t("input",{type:"integer",class:"form-control","onUpdate:modelValue":o[0]||(o[0]=s=>d.penalty=s)},null,512),[[b,d.penalty]])]),At]),t("tr",Ct,[jt,Pt,Vt,Tt,Dt,t("td",null,[f(t("input",{type:"integer",class:"form-control","onUpdate:modelValue":o[1]||(o[1]=s=>d.bonus=s)},null,512),[[b,d.bonus]])]),Nt]),t("tr",It,[Ft,Ht,Mt,Ut,qt,t("td",null,[t("div",zt,[t("div",Et,[t("div",Gt,l(c.calculateAllPrice(0).toLocaleString()),1),t("div",Jt,l((c.calculateAllPrice(1)+(d.bonus-d.penalty)).toLocaleString()),1)])])]),Kt]),t("tr",Qt,[Rt,Wt,Xt,Yt,Zt,t("td",null,[t("button",{onClick:o[2]||(o[2]=x(s=>c.getSalary(e.teacher.id),["prevent"])),class:"btn btn-success w-100"},"\u0412\u044B\u0434\u0430\u0442\u044C \u0437\u0430\u0440\u043F\u043B\u0430\u0442\u0443")]),Ot])])])])]),m(g,{links:e.eduPaidOrders.links},null,8,["links"])])])])):A("",!0)]),_:1})],64)}const es=k(V,[["render",$t]]);export{es as default};
